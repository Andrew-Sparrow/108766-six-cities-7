{"version":3,"sources":["browser-history.js","services/api.js","const.js","utils/utils.js","components/card-info/card-info.jsx","components/room/room.jsx","components/room/room.prop.js","components/room-list/room-list.jsx","components/sign-in/sign-in.jsx","store/action.js","components/sign-out/sign-out.jsx","components/layout/layout.jsx","components/hocs/with-layout.jsx","hooks/use-map.jsx","components/map/map.jsx","components/tabs/tabs.jsx","components/sort-by/sort-by.jsx","components/main-empty/main-empty.jsx","components/main/main.jsx","components/favorite-place/favorite-place.jsx","components/favorite-city/favorite-city.jsx","components/favorite-list/favorite-list.jsx","components/favorites/favorites.jsx","components/login/login.jsx","store/api-actions.js","components/comment-form/comment-form.jsx","components/property/property-comment.jsx","components/property/property-comment-list.jsx","components/property/property-image.jsx","components/property/property-images-list.jsx","components/property/property-good.jsx","components/property/property-goods-list.jsx","mock/neighbourhood-places.js","components/property/property-near-place.jsx","components/property/property-near-places-list.jsx","mock/comments.js","components/property/property.jsx","components/error/error.jsx","components/loading-screen/loading-screen.jsx","components/private-route/private-route.jsx","components/app/app.jsx","store/reducer.js","index.js"],"names":["browserHistory","createBrowserHistory","BACKEND_URL","token","localStorage","getItem","AppRoute","cityList","AuthorizationStatus","LoginValue","APIRoute","SortByValues","Utils","offerFromServer","adaptedOfferForClient","Object","assign","host","avatarUrl","avatar_url","isPro","is_pro","isFavorite","is_favorite","isPremium","is_premium","maxAdults","max_adults","previewImage","preview_image","commentFromServer","adaptedCommentForClient","comment","date","id","rating","user","name","filmFromClient","places","favoritePlaces","Map","forEach","place","has","city","set","get","push","activeCity","filter","item","listLength","Array","fill","map","nanoid","Math","round","isCheckedAuth","authorizationStatus","formatDate","dateString","Date","toLocaleDateString","year","month","getSortedPlaces","sortTypeValue","clonedPlaces","slice","sort","firstPlace","secondPlace","price","hotels","_sortByPriceFromHighToLow","_sortByRating","CardInfo","props","title","type","width","className","height","style","stroke","xlinkHref","to","Room","onListItemHover","getWidthByRating","onMouseEnter","evt","currentTarget","src","alt","PropTypes","shape","number","isRequired","string","arrayOf","bool","RoomList","adaptedPlacesToClient","adaptToClient","SignIn","ActionType","ActionCreator","cityName","payload","sortByValue","status","login","connect","dispatch","onSignOutClick","onClick","state","loginValue","sortBy","children","withLayout","Component","displayName","useMap","mapRef","useState","setMap","useEffect","instance","leaflet","current","center","lat","location","latitude","lng","longitude","zoom","zoomControl","marker","tileLayer","attribution","addTo","undefined","panTo","activeCityName","points","selectedPoint","useRef","defaultCustomIcon","icon","iconUrl","iconSize","iconAnchor","currentCustomIcon","point","ref","onTabClick","data-city","preventDefault","dataset","onSortChange","isOpened","setIsOpened","action","method","prevValue","handleOpen","tabIndex","target","tagName","innerText","MainEmpty","withLayoutMain","setSelectedPoint","filteredPlaces","getFilteredPlaces","sortedPlaces","length","listItem","currentPoint","find","parseInt","FavoritePlace","FavoriteCity","FavoriteList","favoriteList","getFavoritePlacesSeparatedByCity","list","getPlaces","onSubmit","authData","email","password","_getState","api","post","then","info","setItem","data","catch","err","loginRef","passwordRef","history","useHistory","display","xmlns","viewBox","fillRule","clipRule","d","value","placeholder","required","CommentForm","setComment","htmlFor","defaultValue","onChange","changeCommentHandler","disabled","PropertyComment","avatarImgPath","text","dateTime","PropertyReviewList","slicedReviews","reviews","adaptCommentToClient","PropertyImage","imgPath","PropertyImagesList","images","generatedIds","generateIdKeys","imagePath","index","PropertyGood","good","PropertyGoodsList","goods","neighbourhoodPlaces","PropertyNearPlace","PropertyNearPlacesList","comments","withLayoutProperty","useParams","hotelFromServer","adaptedPlaceForClient","description","bedrooms","Error","LoadingScreen","render","path","exact","isDataLoaded","initialState","axiosInstance","axios","create","baseURL","timeout","headers","interceptors","response","use","Promise","resolve","reject","error","getAxiosInstance","store","createStore","composeWithDevTools","applyMiddleware","thunk","withExtraArgument","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.70296e5e.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\n\nconst browserHistory = createBrowserHistory();\n\nexport default browserHistory;\n","import axios from 'axios';\n\nconst BACKEND_URL = 'https://7.react.pages.academy/six-cities';\nconst REQUEST_TIMEOUT = 5000;\n\nconst token = localStorage.getItem('token') ?? '';\n\nexport const getAxiosInstance = (history = null) => {\n\n  const axiosInstance = axios.create({\n    baseURL: BACKEND_URL,\n    timeout: REQUEST_TIMEOUT,\n    headers: {\n      'x-token': token,\n    },\n  });\n\n  axiosInstance.interceptors.response.use(\n    (response) =>\n      new Promise((resolve, reject) =>\n      {\n        resolve(response);\n      }),\n    (error) =>\n      new Promise((resolve, reject) => {\n        reject(error);\n      }),\n  );\n\n  return axiosInstance;\n};\n","export const AppRoute = {\n  ROOT: '/',\n  LOGIN: '/login',\n  FAVORITES: '/favorites',\n  HOTELS: '/hotels/:id',\n};\n\nexport const MAX_RATING = 5;\nexport const MAX_PERCENT = 100;\nexport const MAX_COMMENTS_AMOUNT = 10;\n\nexport const ZOOM = 12;\n\nexport const URL_MARKER_DEFAULT = 'img/pin.svg';\n\nexport const URL_MARKER_CURRENT = 'img/pin-active.svg';\n\nexport const cityList = [\n  'Paris',\n  'Cologne',\n  'Brussels',\n  'Amsterdam',\n  'Hamburg',\n  'Dusseldorf',\n];\n\nexport const AuthorizationStatus = {\n  AUTH: 'AUTH',\n  NO_AUTH: 'NO_AUTH',\n  UNKNOWN: 'UNKNOWN',\n};\n\nexport const LoginValue = {\n  UNAUTHORIZED: 'UNAUTHORIZED',\n};\n\nexport const APIRoute = {\n  HOTELS: '/hotels',\n  FAVORITE: '/favorite',\n  COMMENTS: '/comments',\n  LOGIN: '/login',\n  LOGOUT: '/logout',\n};\n\nexport const SortByValues = {\n  POPULAR: 'Popular',\n  PRICE_LOW_TO_HIGH: 'Price: low to high',\n  PRICE_HIGH_TO_LOW: 'Price: high to low',\n  TOP_RATED_FIRST: 'Top rated first',\n};\n","import { AuthorizationStatus } from '../const';\nimport nanoid from 'nanoid';\n\nimport {\n  MAX_RATING,\n  MAX_PERCENT,\n  SortByValues\n} from '../const';\n\nclass Utils {\n  static adaptToClient(offerFromServer) {\n    const adaptedOfferForClient = Object.assign(\n      {},\n      offerFromServer,\n      {\n        host: Object.assign(\n          {},\n          offerFromServer.host,\n          {\n            avatarUrl: offerFromServer.host.avatar_url,\n            isPro: offerFromServer.host.is_pro,\n          },\n        ),\n        isFavorite: offerFromServer.is_favorite,\n        isPremium: offerFromServer.is_premium,\n        maxAdults: offerFromServer.max_adults,\n        previewImage: offerFromServer.preview_image,\n      },\n    );\n\n    // Ненужные ключи мы удаляем\n    delete adaptedOfferForClient.host.avatar_url;\n    delete adaptedOfferForClient.host.is_pro;\n\n    delete adaptedOfferForClient.is_favorite;\n    delete adaptedOfferForClient.is_premium;\n    delete adaptedOfferForClient.max_adults;\n    delete adaptedOfferForClient.preview_image;\n\n    return adaptedOfferForClient;\n  }\n\n  static adaptCommentToClient(commentFromServer) {\n    const adaptedCommentForClient = Object.assign(\n      {},\n      commentFromServer,\n      {\n        comment: commentFromServer.comment,\n        date: commentFromServer.date,\n        id: commentFromServer.id,\n        rating: commentFromServer.rating,\n        user: Object.assign(\n          {},\n          commentFromServer.user,\n          {\n            avatarUrl: commentFromServer.user.avatar_url,\n            isPro: commentFromServer.user.is_pro,\n            id: commentFromServer.user.id,\n            name: commentFromServer.user.name,\n          },\n        ),\n      },\n    );\n\n    // Ненужные ключи мы удаляем\n    delete adaptedCommentForClient.user.avatar_url;\n    delete adaptedCommentForClient.user.is_pro;\n\n    return adaptedCommentForClient;\n  }\n\n  static adaptToServer(filmFromClient) {\n    const filmInfoForServer = Object.assign(\n      {},\n      {},\n    );\n\n    return filmInfoForServer;\n  }\n\n  static getFavoritePlacesSeparatedByCity(places) {\n    const favoritePlaces = new Map();\n\n    places.forEach((place) => {\n      if (place.isFavorite) {\n        if (favoritePlaces.has(place.city.name)) {\n          favoritePlaces.get(place.city.name).push(place);\n        } else {\n          favoritePlaces.set(place.city.name, []);\n          favoritePlaces.get(place.city.name).push(place);\n        }\n      }\n    });\n\n    return favoritePlaces;\n  }\n\n  static getFilteredPlaces(activeCity, places) {\n    let filteredPlaces = [];\n    filteredPlaces = places.filter((item) => item.city.name === activeCity);\n    return filteredPlaces;\n  }\n\n  static isCheckedAuth = (authorizationStatus) =>\n    authorizationStatus === AuthorizationStatus.UNKNOWN;\n\n  static formatDate = (dateString) => {\n    const DATE_OPTIONS = { year: 'numeric', month: 'short' };\n\n    return (new Date(dateString)).toLocaleDateString('en-US', DATE_OPTIONS);\n  }\n\n  static generateIdKeys(listLength) {\n    const list = new Array(listLength).fill('');\n    const generatedIdList = list.map(() => nanoid(10));\n    return generatedIdList;\n  }\n\n  static getWidthByRating(rating) {\n    const roundedRating = Math.round(rating);\n    const widthValue = (MAX_PERCENT * roundedRating) / MAX_RATING;\n    return widthValue;\n  }\n\n  static getSortedPlaces = (sortTypeValue, places) => {\n    const clonedPlaces = places.slice();\n\n    const _sortByPriceFromLowToHigh = (hotels) => hotels.sort((firstPlace, secondPlace) => firstPlace.price - secondPlace.price);\n\n    const _sortByPriceFromHighToLow = (hotels) => hotels.sort((firstPlace, secondPlace) => secondPlace.price - firstPlace.price);\n\n    const _sortByRating = (hotels) => hotels.sort((firstPlace, secondPlace) => secondPlace.rating - firstPlace.rating);\n\n    switch (sortTypeValue) {\n      case SortByValues.POPULAR:\n        return clonedPlaces;\n      case SortByValues.PRICE_LOW_TO_HIGH:\n        return _sortByPriceFromLowToHigh(places);\n      case SortByValues.PRICE_HIGH_TO_LOW:\n        return _sortByPriceFromHighToLow(places);\n      case SortByValues.TOP_RATED_FIRST:\n        return _sortByRating(places);\n      default:\n        return clonedPlaces;\n    }\n  }\n}\n\nexport default Utils;\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {\n  Link\n} from 'react-router-dom';\n\nfunction CardInfo (props) {\n  const {\n    id,\n    price,\n    title,\n    isFavorite,\n    type,\n    width,\n  } = props;\n\n  return (\n    <div className=\"place-card__info\">\n      <div className=\"place-card__price-wrapper\">\n        <div className=\"place-card__price\">\n          <b className=\"place-card__price-value\">&euro;{ price }</b>\n          <span className=\"place-card__price-text\">&#47;&nbsp;night</span>\n        </div>\n        <button className=\"place-card__bookmark-button button\" type=\"button\">\n          <svg className=\"place-card__bookmark-icon\" width=\"18\" height=\"19\" style={{ stroke: isFavorite && '#4481c3', fill: isFavorite && '#4481c3' }}>\n            <use xlinkHref=\"#icon-bookmark\"></use>\n          </svg>\n          <span className=\"visually-hidden\">To bookmarks</span>\n        </button>\n      </div>\n      <div className=\"place-card__rating rating\">\n        <div className=\"place-card__stars rating__stars\">\n          <span style={{ width: `${width}%` }}></span>\n          <span className=\"visually-hidden\">Rating</span>\n        </div>\n      </div>\n      <h2 className=\"place-card__name\">\n        <Link to={`/hotels/${id}`}>{title}</Link>\n      </h2>\n      <p className=\"place-card__type\">{type}</p>\n    </div>\n  );\n}\n\nCardInfo.propTypes = {\n  id: PropTypes.number,\n  price: PropTypes.number,\n  title: PropTypes.string.isRequired,\n  isFavorite: PropTypes.bool,\n  type: PropTypes.string,\n  width: PropTypes.number,\n};\n\nexport default CardInfo;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Utils from '../../utils/utils';\n\nimport {\n  Link\n} from 'react-router-dom';\n\nimport CardInfo from '../card-info/card-info';\n\nfunction Room(props) {\n  const {\n    id,\n    price,\n    onListItemHover,\n    title,\n    isPremium,\n    isFavorite,\n    type,\n    rating,\n  } = props;\n\n  const width = Utils.getWidthByRating(rating);\n\n  const listItemHoverHandler = (evt) => {\n    onListItemHover(evt.currentTarget);\n  };\n\n  return (\n    <article\n      className=\"cities__place-card place-card\"\n      onMouseEnter={listItemHoverHandler}\n      id={id}\n    >\n      {isPremium &&\n        <div className=\"place-card__mark\">\n          <span>Premium</span>\n        </div>}\n      <div className=\"cities__image-wrapper place-card__image-wrapper\">\n        <Link to={`/hotels/${id}`}>\n          <img className=\"place-card__image\" src=\"img/apartment-01.jpg\" width=\"260\" height=\"200\" alt=\"Place\" />\n        </Link>\n      </div>\n      < CardInfo\n        id={id}\n        price={price}\n        title={title}\n        isFavorite={isFavorite}\n        type={type}\n        width={width}\n      />\n    </article>\n  );\n}\n\nRoom.propTypes = {\n  id: PropTypes.number.isRequired,\n  price: PropTypes.number,\n  onListItemHover: PropTypes.func,\n  title: PropTypes.string.isRequired,\n  isPremium: PropTypes.bool,\n  isFavorite: PropTypes.bool,\n  type: PropTypes.string,\n  rating: PropTypes.number,\n};\n\nexport default Room;\n","import PropTypes from 'prop-types';\n\nexport default PropTypes.shape({\n  'id': PropTypes.number.isRequired,\n  'price': PropTypes.number.isRequired,\n  'bedrooms': PropTypes.number.isRequired,\n  'city': PropTypes.shape({\n    'location': PropTypes.shape({\n      'latitude': PropTypes.number.isRequired,\n      'longitude': PropTypes.number.isRequired,\n      'zoom': PropTypes.number.isRequired,\n    }).isRequired,\n    'name': PropTypes.string.isRequired,\n  }).isRequired,\n  'description': PropTypes.string.isRequired,\n  'goods': PropTypes.arrayOf(PropTypes.string).isRequired,\n  'host': PropTypes.shape({\n    'id': PropTypes.number.isRequired,\n    'avatarUrl': PropTypes.string,\n    'isPro': PropTypes.bool,\n    'name': PropTypes.string.isRequired,\n  }),\n  'images': PropTypes.arrayOf(PropTypes.string).isRequired,\n  'isFavorite': PropTypes.bool,\n  'isPremium': PropTypes.bool,\n  'location': PropTypes.shape({\n    'latitude': PropTypes.number.isRequired,\n    'longitude': PropTypes.number.isRequired,\n    'zoom': PropTypes.number.isRequired,\n  }),\n  'maxAdults': PropTypes.number,\n  'previewImage': PropTypes.string,\n  'rating': PropTypes.number.isRequired,\n  'title': PropTypes.string.isRequired,\n  'type': PropTypes.string.isRequired,\n});\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Utils from '../../utils/utils';\nimport Room from '../room/room';\nimport placeProp from '../room/room.prop';\n\nfunction RoomList(props) {\n  const { places, onListItemHover } = props;\n  const adaptedPlacesToClient = places.map((place) => Utils.adaptToClient(place));\n\n  return (\n    <div className=\"cities__places-list places__list tabs__content\">\n      {adaptedPlacesToClient.map((place) => (\n        <Room\n          key={place.id}\n          id={place.id}\n          price={place.price}\n          onListItemHover={onListItemHover}\n          title={place.title}\n          isPremium={place.isPremium}\n          isFavorite={place.isFavorite}\n          type={place.type}\n          rating={place.rating}\n        />\n      ))}\n    </div>\n  );\n}\n\nRoomList.propTypes = {\n  places: PropTypes.arrayOf(placeProp),\n  onListItemHover: PropTypes.func,\n};\n\nexport default RoomList;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { AppRoute } from '../../const.js';\n\nfunction SignIn(props) {\n\n  return (\n    <li className=\"header__nav-item user\">\n      <Link className=\"header__nav-link header__nav-link--profile\" to={AppRoute.LOGIN}>\n        <div className=\"header__avatar-wrapper user__avatar-wrapper\">\n        </div>\n        <span className=\"header__login\">Sign in</span>\n      </Link>\n    </li>\n  );\n}\n\nexport default SignIn;\n","export const ActionType = {\n  CHANGE_CITY: 'changeCity',\n  CHANGE_SORT_BY: 'sortBy',\n  LOAD_PLACES: 'data/loadPlaces',\n  CHANGE_AUTHORIZATION_STATUS: 'user/changeAuthorizationStatus',\n  CHANGE_LOGIN: 'user/changeLogin',\n  LOGOUT: 'user/logout',\n};\n\nexport const ActionCreator = {\n  changeCity: (cityName) => ({\n    type: ActionType.CHANGE_CITY,\n    payload: cityName,\n  }),\n  changeSortBy: (sortByValue) => ({\n    type: ActionType.CHANGE_SORT_BY,\n    payload: sortByValue,\n  }),\n  loadPlaces: (places) => ({\n    type: ActionType.LOAD_PLACES,\n    payload: places,\n  }),\n  changeAuthorizationStatus: (status) => ({\n    type: ActionType.CHANGE_AUTHORIZATION_STATUS,\n    payload: status,\n  }),\n  changeLogin: (login) => ({\n    type: ActionType.CHANGE_LOGIN,\n    payload: login,\n  }),\n  logout: () => ({\n    type: ActionType.LOGOUT,\n  }),\n};\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { AppRoute } from '../../const.js';\nimport { ActionCreator } from '../../store/action';\n\nfunction SignOut(props) {\n  const { login, onSignOutClick } = props;\n\n  return (\n    <Fragment>\n      <li className=\"header__nav-item user\">\n        <Link className=\"header__nav-link header__nav-link--profile\" to={ AppRoute.FAVORITES }>\n          <div className=\"header__avatar-wrapper user__avatar-wrapper\">\n          </div>\n          <span className=\"header__user-name user__name\">{ login }</span>\n        </Link>\n      </li>\n      <li className=\"header__nav-item\">\n        <Link\n          className=\"header__nav-link\"\n          to={AppRoute.ROOT}\n          onClick={() => {\n            onSignOutClick();\n          }}\n        >\n          <span className=\"header__signout\">Sign out</span>\n        </Link>\n      </li>\n    </ Fragment>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  onSignOutClick() {\n    dispatch(ActionCreator.logout());\n  },\n});\n\nSignOut.propTypes = {\n  login: PropTypes.string,\n  onSignOutClick: PropTypes.func.isRequired,\n};\n\nexport { SignOut };\nexport default connect(null, mapDispatchToProps)(SignOut);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport PropTypes from 'prop-types';\nimport SignIn from '../sign-in/sign-in';\nimport SignOut from '../sign-out/sign-out';\n\nimport {\n  AuthorizationStatus\n} from '../../const.js';\n\nfunction Layout (props) {\n  const {\n    className,\n    children,\n    login,\n    authorizationStatus,\n  } = props;\n\n  return (\n    <div className={className}>\n      <header className=\"header\">\n        <div className=\"container\">\n          <div className=\"header__wrapper\">\n            <div className=\"header__left\">\n              <Link className=\"header__logo-link header__logo-link--active\" to=\"/\">\n                <img className=\"header__logo\" src=\"img/logo.svg\" alt=\"6 cities logo\" width=\"81\" height=\"41\" />\n              </Link>\n            </div>\n            <nav className=\"header__nav\">\n              <ul className=\"header__nav-list\">\n                {authorizationStatus === AuthorizationStatus.AUTH\n                  ? <SignOut login={login} />\n                  : < SignIn />}\n              </ul>\n            </nav>\n          </div>\n        </div>\n      </header>\n      {children}\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  login: state.loginValue,\n  places: state.places,\n  sortBy: state.sortBy,\n  authorizationStatus: state.authorizationStatus,\n});\n\nLayout.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.object,\n  login: PropTypes.string,\n  authorizationStatus: PropTypes.string.isRequired,\n};\n\nexport { Layout };\nexport default connect(mapStateToProps, null)(Layout);\n","import React from 'react';\nimport Layout from '../layout/layout';\n\nconst withLayout = (Component) =>\n  function wrapper(props) {\n    return (\n      <Layout>\n        <Component {...props} />\n      </Layout>\n    );\n  };\n\nwithLayout.displayName = 'withLayout';\n\nexport default withLayout;\n","import { useEffect, useState } from 'react';\nimport leaflet from 'leaflet';\nimport {ZOOM} from '../const';\n\nfunction useMap(mapRef, activeCity) {\n  const [map, setMap]  = useState(null);\n\n  useEffect(() => {\n    if (map === null) {\n\n      const instance = leaflet.map(mapRef.current, {\n        center: {\n          lat: activeCity.location.latitude,\n          lng: activeCity.location.longitude,\n        },\n        zoom: ZOOM,\n        zoomControl: false,\n        marker: true,\n      });\n\n      leaflet\n        .tileLayer(\n          'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png',\n          {\n            attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\n          },\n        )\n        .addTo(instance);\n\n      setMap(instance);\n    } else if (activeCity.location !== undefined) {\n      map.panTo({\n        lat: activeCity.location.latitude,\n        lng: activeCity.location.longitude,\n      });\n    }\n  }, [mapRef, map, activeCity]);\n\n  return map;\n}\n\nexport default useMap;\n","import React, { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport leaflet from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport useMap from '../../hooks/use-map';\nimport { URL_MARKER_DEFAULT, URL_MARKER_CURRENT } from '../../const';\n\nfunction Map(props) {\n  const {\n    activeCityName,\n    city,\n    points,\n    selectedPoint,\n  } = props;\n\n  const mapRef = useRef(null);\n  const map = useMap(mapRef, city);\n\n  const defaultCustomIcon = leaflet.icon({\n    iconUrl: URL_MARKER_DEFAULT,\n    iconSize: [27, 39],\n    iconAnchor: [14, 39],\n  });\n\n  const currentCustomIcon = leaflet.icon({\n    iconUrl: URL_MARKER_CURRENT,\n    iconSize: [27, 39],\n    iconAnchor: [14, 39],\n  });\n\n  useEffect(() => {\n    if (map) {\n      points.forEach((point) => {\n        leaflet\n          .marker({\n            lat: point.location.latitude,\n            lng: point.location.longitude,\n          }, {\n            icon: (point.id === selectedPoint.id)\n              ? currentCustomIcon\n              : defaultCustomIcon,\n          })\n          .addTo(map);\n      });\n    }\n  }, [map, city, points, selectedPoint, activeCityName, currentCustomIcon, defaultCustomIcon]);\n\n  return (\n    <div\n      style={{ height: '100%' }}\n      ref={mapRef}\n    >\n    </div>\n  );\n}\n\nMap.propTypes = {\n  city: PropTypes.object,\n  activeCityName: PropTypes.string,\n  selectedPoint: PropTypes.object,\n  points: PropTypes.array,\n};\n\nexport default Map ;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport {\n  cityList,\n  SortByValues\n} from '../../const';\nimport { ActionCreator } from '../../store/action';\n\nfunction Tabs(props) {\n  const { activeCityName, onTabClick } = props;\n\n  return (\n    <div className=\"tabs\">\n      <section className=\"locations container\">\n        <ul className=\"locations__list tabs__list\">\n          {cityList.map((city) => (\n            <li className=\"locations__item\" key={city}>\n              <Link\n                data-city={city}\n                className={`locations__item-link tabs__item ${ city === activeCityName && 'tabs__item--active' }`}\n                to=\"#\"\n                onClick={(evt) =>{\n                  evt.preventDefault();\n                  onTabClick(evt.currentTarget.dataset.city);\n                }}\n              >\n                <span>{city}</span>\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </section>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  activeCityName: state.activeCityName,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onTabClick(cityName) {\n    dispatch(ActionCreator.changeCity(cityName));\n    dispatch(ActionCreator.changeSortBy(SortByValues.POPULAR));\n  },\n});\n\nTabs.propTypes = {\n  activeCityName: PropTypes.string,\n  onTabClick: PropTypes.func.isRequired,\n};\n\nexport { Tabs };\nexport default connect(mapStateToProps, mapDispatchToProps)(Tabs);\n","import React, { useState } from 'react';\nimport { SortByValues } from '../../const';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { ActionCreator } from '../../store/action';\n\nfunction SortBy( props ) {\n  const { sortByValue, onSortChange } = props;\n  const [isOpened, setIsOpened] = useState(false);\n\n  const handleOpen = (evt) => {\n    evt.preventDefault();\n    setIsOpened((prevValue) => !prevValue);\n  };\n\n  return (\n    <form\n      className=\"places__sorting\"\n      action=\"#\"\n      method=\"get\"\n      onClick={(evt) => handleOpen(evt)}\n    >\n      <span className=\"places__sorting-caption\">Sort by&nbsp;</span>\n      <span className=\"places__sorting-type\" tabIndex=\"0\">\n        { sortByValue }\n        <svg className=\"places__sorting-arrow\" width=\"7\" height=\"4\">\n          <use xlinkHref=\"#icon-arrow-select\"></use>\n        </svg>\n      </span>\n      <ul className={`places__options places__options--custom ${isOpened && 'places__options--opened'}`}>\n        <li\n          className={`places__option ${ sortByValue === SortByValues.POPULAR && 'places__option--active' }`}\n          tabIndex=\"0\"\n          onClick={(evt) =>{\n            evt.preventDefault();\n            if (evt.target.tagName === 'LI') {\n              onSortChange(evt.target.innerText);\n            }\n          }}\n        >\n          { SortByValues.POPULAR }\n        </li>\n        <li\n          className={`places__option ${ sortByValue === SortByValues.PRICE_LOW_TO_HIGH && 'places__option--active' }`}\n          tabIndex=\"0\"\n          onClick={(evt) =>{\n            evt.preventDefault();\n            if (evt.target.tagName === 'LI') {\n              onSortChange(evt.target.innerText);\n            }\n          }}\n        >\n          { SortByValues.PRICE_LOW_TO_HIGH }\n        </li>\n        <li\n          className={`places__option ${ sortByValue === SortByValues.PRICE_HIGH_TO_LOW && 'places__option--active' }`}\n          tabIndex=\"0\"\n          onClick={(evt) =>{\n            evt.preventDefault();\n            if (evt.target.tagName === 'LI') {\n              onSortChange(evt.target.innerText);\n            }\n          }}\n        >\n          { SortByValues.PRICE_HIGH_TO_LOW }\n        </li>\n        <li\n          className={`places__option ${ sortByValue === SortByValues.TOP_RATED_FIRST && 'places__option--active' }`}\n          tabIndex=\"0\"\n          onClick={(evt) =>{\n            evt.preventDefault();\n            if (evt.target.tagName === 'LI') {\n              onSortChange(evt.target.innerText);\n            }\n          }}\n        >\n          { SortByValues.TOP_RATED_FIRST }\n        </li>\n      </ul>\n    </form>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  sortByValue: state.sortBy,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onSortChange(sortByValue) {\n    dispatch(ActionCreator.changeSortBy(sortByValue));\n  },\n});\n\nSortBy.propTypes = {\n  sortByValue: PropTypes.string.isRequired,\n  onSortChange: PropTypes.func.isRequired,\n};\n\nexport { SortBy };\nexport default connect(mapStateToProps, mapDispatchToProps)(SortBy);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction MainEmpty(props) {\n  const { activeCityName } = props;\n\n  return (\n    <div className=\"cities\">\n      <div className=\"cities__places-container cities__places-container--empty container\">\n        <section className=\"cities__no-places\">\n          <div className=\"cities__status-wrapper tabs__content\">\n            <b className=\"cities__status\">No places to stay available</b>\n            <p className=\"cities__status-description\">We could not find any property available at the moment in {activeCityName }</p>\n          </div>\n        </section>\n        <div className=\"cities__right-section\" />\n      </div>\n    </div>\n  );\n}\n\nMainEmpty.propTypes = {\n  activeCityName: PropTypes.string.isRequired,\n};\n\nexport default MainEmpty;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport RoomList from '../room-list/room-list';\nimport withLayout from '../hocs/with-layout';\nimport Map from '../map/map';\nimport Tabs from '../tabs/tabs';\nimport SortBy from '../sort-by/sort-by';\nimport Utils from '../../utils/utils';\nimport MainEmpty from '../main-empty/main-empty';\n\nfunction Main(props) {\n  const { places, activeCityName, sortBy } = props;\n\n  const [selectedPoint, setSelectedPoint] = useState({});\n\n  const filteredPlaces = Utils.getFilteredPlaces(activeCityName, places);\n  const sortedPlaces = Utils.getSortedPlaces(sortBy, filteredPlaces);\n\n  const onListItemHover = (listItem) => {\n    const currentPoint = sortedPlaces.find((place) => place.id === parseInt(listItem.id, 10));\n    setSelectedPoint(currentPoint);\n  };\n\n  return (\n    <main className=\"page__main page__main--index\">\n      <h1 className=\"visually-hidden\">Cities</h1>\n      <Tabs />\n      {\n        sortedPlaces.length === 0\n          ? < MainEmpty activeCityName={activeCityName}/>\n          : (\n            <div className=\"cities\">\n              <div className=\"cities__places-container container\">\n                <section className=\"cities__places places\">\n                  <h2 className=\"visually-hidden\">Places</h2>\n                  <b className=\"places__found\">{sortedPlaces.length} places to stay in {activeCityName}</b>\n                  <SortBy />\n                  < RoomList places={sortedPlaces} onListItemHover={onListItemHover} />\n                </section>\n                <div className=\"cities__right-section\">\n                  <section className=\"cities__map map\">\n                    <Map\n                      activeCityName={activeCityName}\n                      city={sortedPlaces.length !== 0 && sortedPlaces[0].city}\n                      points={sortedPlaces}\n                      selectedPoint={selectedPoint}\n                    />\n                  </section>\n                </div>\n              </div>\n            </div>\n          )\n      }\n    </main>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  activeCityName: state.activeCityName,\n  places: state.places,\n  sortBy: state.sortBy,\n});\n\nMain.propTypes = {\n  places: PropTypes.array,\n  activeCityName: PropTypes.string.isRequired,\n  sortBy: PropTypes.string.isRequired,\n};\n\nconst withLayoutMain = withLayout(Main);\nexport { withLayoutMain };\nexport default connect(mapStateToProps, null)(withLayoutMain);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nfunction FavoritePlace(props) {\n  const { price, title, type } = props;\n\n  return (\n    <article className=\"favorites__card place-card\">\n      <div className=\"favorites__image-wrapper place-card__image-wrapper\">\n        <Link to=\"/\">\n          <img className=\"place-card__image\" src=\"img/apartment-small-03.jpg\" width={150} height={110} alt=\"Place\" />\n        </Link>\n      </div>\n      <div className=\"favorites__card-info place-card__info\">\n        <div className=\"place-card__price-wrapper\">\n          <div className=\"place-card__price\">\n            <b className=\"place-card__price-value\">€{price}</b>\n            <span className=\"place-card__price-text\">/&nbsp;night</span>\n          </div>\n          <button className=\"place-card__bookmark-button place-card__bookmark-button--active button\" type=\"button\">\n            <svg className=\"place-card__bookmark-icon\" width={18} height={19}>\n              <use xlinkHref=\"#icon-bookmark\" />\n            </svg>\n            <span className=\"visually-hidden\">In bookmarks</span>\n          </button>\n        </div>\n        <div className=\"place-card__rating rating\">\n          <div className=\"place-card__stars rating__stars\">\n            <span style={{ width: '100%' }} />\n            <span className=\"visually-hidden\">Rating</span>\n          </div>\n        </div>\n        <h2 className=\"place-card__name\">\n          <Link to=\"/\">{title}</Link>\n        </h2>\n        <p className=\"place-card__type\">{type}</p>\n      </div>\n    </article>\n  );\n}\n\nFavoritePlace.propTypes = {\n  price: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n};\n\nexport default FavoritePlace;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport FavoritePlace from '../favorite-place/favorite-place';\nimport offerProp from '../room/room.prop.js';\n\nfunction FavoriteCity({ city, favoritePlaces }) {\n  return (\n    <li className=\"favorites__locations-items\">\n      <div className=\"favorites__locations locations locations--current\">\n        <div className=\"locations__item\">\n          <Link className=\"locations__item-link\" to=\"/\">\n            <span>{city}</span>\n          </Link>\n        </div>\n      </div>\n      <div className=\"favorites__places\">\n        {favoritePlaces.map((place) => <FavoritePlace price={place.price} title={place.title} type={place.type} key={place.id} />)}\n      </div>\n    </li>);\n}\n\nFavoriteCity.propTypes = {\n  city: PropTypes.string.isRequired,\n  favoritePlaces: PropTypes.arrayOf(offerProp).isRequired,\n};\n\nexport default FavoriteCity;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Utils from '../../utils/utils';\nimport FavoriteCity from '../favorite-city/favorite-city';\nimport offerProp from '../room/room.prop.js';\n\nfunction FavoriteList(props) {\n  const {places} = props;\n  const favoriteList = Utils.getFavoritePlacesSeparatedByCity(places);\n\n  function getPlaces(list) {\n    const cityList = [];\n\n    list.forEach((place, city) => {\n      cityList.push(<FavoriteCity city={city} favoritePlaces={place} key={place.city}/>);\n    });\n\n    return cityList;\n  }\n\n  return (\n    <ul className=\"favorites__list\">\n      {getPlaces(favoriteList)}\n    </ul>\n  );\n}\n\nFavoriteList.propTypes = {\n  places: PropTypes.arrayOf(offerProp),\n};\n\nexport default FavoriteList;\n","import React from 'react';\nimport { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\nimport FavoriteList from '../favorite-list/favorite-list';\nimport offerProp from '../room/room.prop.js';\nimport withLayout from '../hocs/with-layout';\n\nfunction Favorites(props) {\n  const { places } = props;\n\n  return (\n    <Fragment>\n      <main className=\"page__main page__main--favorites\">\n        <div className=\"page__favorites-container container\">\n          <section className=\"favorites\">\n            <h1 className=\"favorites__title\">Saved listing</h1>\n            <FavoriteList places={places}/>\n          </section>\n        </div>\n      </main>\n      <footer className=\"footer container\">\n        <Link className=\"footer__logo-link\" to=\"/\">\n          <img className=\"footer__logo\" src=\"img/logo.svg\" alt=\"6 cities logo\" width={64} height={33} />\n        </Link>\n      </footer>\n    </Fragment>\n  );\n}\n\nFavorites.propTypes = {\n  places: PropTypes.arrayOf(offerProp),\n};\n\nexport default withLayout(Favorites);\n","import React, { useRef, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { login } from '../../store/api-actions';\nimport {\n  AppRoute,\n  AuthorizationStatus\n} from '../../const.js';\n\nfunction Login ({ onSubmit, authorizationStatus }) {\n  const loginRef = useRef();\n  const passwordRef = useRef();\n\n  const history = useHistory();\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    onSubmit({\n      login: loginRef.current.value,\n      password: passwordRef.current.value,\n    });\n  };\n\n  useEffect(() => {\n    if (authorizationStatus === AuthorizationStatus.AUTH) {\n      history.push(AppRoute.FAVORITES);\n    }\n  }, [authorizationStatus, history]);\n\n  return (\n    <Fragment>\n      <div style={{display: 'none'}}>\n        <svg xmlns=\"http://www.w3.org/2000/svg\"><symbol id=\"icon-arrow-select\" viewBox=\"0 0 7 4\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M0 0l3.5 2.813L7 0v1.084L3.5 4 0 1.084V0z\" /></symbol><symbol id=\"icon-bookmark\" viewBox=\"0 0 17 18\"><path d=\"M3.993 2.185l.017-.092V2c0-.554.449-1 .99-1h10c.522 0 .957.41.997.923l-2.736 14.59-4.814-2.407-.39-.195-.408.153L1.31 16.44 3.993 2.185z\" /></symbol><symbol id=\"icon-star\" viewBox=\"0 0 13 12\"><path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M6.5 9.644L10.517 12 9.451 7.56 13 4.573l-4.674-.386L6.5 0 4.673 4.187 0 4.573 3.549 7.56 2.483 12 6.5 9.644z\" /></symbol></svg>\n      </div>\n      <div className=\"page page--gray page--login\">\n        <header className=\"header\">\n          <div className=\"container\">\n            <div className=\"header__wrapper\">\n              <div className=\"header__left\">\n                <Link className=\"header__logo-link\" to=\"/\">\n                  <img className=\"header__logo\" src=\"img/logo.svg\" alt=\"6 cities logo\" width={81} height={41} />\n                </Link>\n              </div>\n              <nav className=\"header__nav\">\n                <ul className=\"header__nav-list\">\n                </ul>\n              </nav>\n            </div>\n          </div>\n        </header>\n        <main className=\"page__main page__main--login\">\n          <div className=\"page__login-container container\">\n            <section className=\"login\">\n              <h1 className=\"login__title\">Sign in</h1>\n              <form\n                className=\"login__form form\"\n                action=\"\"\n                method=\"post\"\n                onSubmit={ handleSubmit }\n              >\n                <div className=\"login__input-wrapper form__input-wrapper\">\n                  <label className=\"visually-hidden\">E-mail</label>\n                  <input\n                    ref={ loginRef }\n                    className=\"login__input form__input\"\n                    type=\"email\"\n                    name=\"email\"\n                    placeholder=\"Email\"\n                    required\n                  />\n                </div>\n                <div className=\"login__input-wrapper form__input-wrapper\">\n                  <label className=\"visually-hidden\">Password</label>\n                  <input\n                    ref={ passwordRef }\n                    className=\"login__input form__input\"\n                    type=\"password\"\n                    name=\"password\"\n                    placeholder=\"Password\"\n                    required\n                  />\n                </div>\n                <button\n                  className=\"login__submit form__submit button\"\n                  type=\"submit\"\n                >\n                  Sign in\n                </button>\n              </form>\n            </section>\n            <section className=\"locations locations--login locations--current\">\n              <div className=\"locations__item\">\n                <Link className=\"locations__item-link\" to=\"/\">\n                  <span>Amsterdam</span>\n                </Link>\n              </div>\n            </section>\n          </div>\n        </main>\n      </div>\n    </Fragment>\n  );\n}\n\nLogin.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  authorizationStatus: PropTypes.string,\n};\n\nconst mapStateToProps = (state) => ({\n  authorizationStatus: state.authorizationStatus,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onSubmit(authData) {\n    dispatch(login(authData));\n  },\n});\n\nexport { Login };\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import { ActionCreator } from './action';\nimport { AuthorizationStatus, APIRoute } from '../const';\n\nexport const fetchPlacesList = () => (dispatch, _getState, api) => (\n  api.get(APIRoute.HOTELS)\n    .then(({ data }) => {\n      dispatch(ActionCreator.loadPlaces(data));\n      dispatch(ActionCreator.changeAuthorizationStatus(AuthorizationStatus.NO_AUTH));\n    })\n    .catch((err) => {})\n);\n\nexport const login = ({ login: email, password }) => (dispatch, _getState, api) => (\n  api.post(APIRoute.LOGIN, { email, password })\n    .then((info) => {\n      localStorage.setItem('token', info.data.token);\n      dispatch(ActionCreator.changeLogin(info.data.email));\n      dispatch(ActionCreator.changeAuthorizationStatus(AuthorizationStatus.AUTH));\n    })\n    .catch((err) => {})\n);\n\nexport const logout = () => (dispatch, _getState, api) => (\n  api.delete(APIRoute.LOGOUT)\n    .then(() => localStorage.removeItem('token'))\n    .then(() => dispatch(ActionCreator.logout()))\n);\n","import React, { useState } from 'react';\n\nfunction CommentForm() {\n  const [comment, setComment] = useState('');\n\n  function changeCommentHandler(evt) {\n    evt.preventDefault();\n    setComment(evt.target.value);\n  }\n\n  return (\n    <form className=\"reviews__form form\" action=\"#\" method=\"post\" onSubmit={() => {}}>\n      <label className=\"reviews__label form__label\" htmlFor=\"review\">Your review</label>\n      <div className=\"reviews__rating-form form__rating\">\n        <input className=\"form__rating-input visually-hidden\" name=\"rating\" defaultValue={5} id=\"5-stars\" type=\"radio\" />\n        <label htmlFor=\"5-stars\" className=\"reviews__rating-label form__rating-label\" title=\"perfect\">\n          <svg className=\"form__star-image\" width={37} height={33}>\n            <use xlinkHref=\"#icon-star\" />\n          </svg>\n        </label>\n        <input className=\"form__rating-input visually-hidden\" name=\"rating\" defaultValue={4} id=\"4-stars\" type=\"radio\" />\n        <label htmlFor=\"4-stars\" className=\"reviews__rating-label form__rating-label\" title=\"good\">\n          <svg className=\"form__star-image\" width={37} height={33}>\n            <use xlinkHref=\"#icon-star\" />\n          </svg>\n        </label>\n        <input className=\"form__rating-input visually-hidden\" name=\"rating\" defaultValue={3} id=\"3-stars\" type=\"radio\" />\n        <label htmlFor=\"3-stars\" className=\"reviews__rating-label form__rating-label\" title=\"not bad\">\n          <svg className=\"form__star-image\" width={37} height={33}>\n            <use xlinkHref=\"#icon-star\" />\n          </svg>\n        </label>\n        <input className=\"form__rating-input visually-hidden\" name=\"rating\" defaultValue={2} id=\"2-stars\" type=\"radio\" />\n        <label htmlFor=\"2-stars\" className=\"reviews__rating-label form__rating-label\" title=\"badly\">\n          <svg className=\"form__star-image\" width={37} height={33}>\n            <use xlinkHref=\"#icon-star\" />\n          </svg>\n        </label>\n        <input className=\"form__rating-input visually-hidden\" name=\"rating\" defaultValue={1} id=\"1-star\" type=\"radio\" />\n        <label htmlFor=\"1-star\" className=\"reviews__rating-label form__rating-label\" title=\"terribly\">\n          <svg className=\"form__star-image\" width={37} height={33}>\n            <use xlinkHref=\"#icon-star\" />\n          </svg>\n        </label>\n      </div>\n      <textarea className=\"reviews__textarea form__textarea\" onChange={(evt) => changeCommentHandler(evt)} value={comment} id=\"review\" name=\"review\" placeholder=\"Tell how was your stay, what you like and what can be improved\" />\n      <div className=\"reviews__button-wrapper\">\n        <p className=\"reviews__help\">\n          To submit review please make sure to set <span className=\"reviews__star\">rating</span> and describe your stay with at least <b className=\"reviews__text-amount\">50 characters</b>.\n        </p>\n        <button className=\"reviews__submit form__submit button\" type=\"submit\" disabled>Submit</button>\n      </div>\n    </form>\n  );\n}\n\nexport default CommentForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Utils from '../../utils/utils';\n\nfunction PropertyComment ( props ) {\n  const {\n    avatarImgPath,\n    date,\n    text,\n    name,\n    rating,\n  } = props;\n\n  const width = Utils.getWidthByRating(rating);\n\n  return (\n    <li className=\"reviews__item\">\n      <div className=\"reviews__user user\">\n        <div className=\"reviews__avatar-wrapper user__avatar-wrapper\">\n          <img className=\"reviews__avatar user__avatar\" src={ avatarImgPath } width={54} height={54} alt=\"Reviews avatar\" />\n        </div>\n        <span className=\"reviews__user-name\">\n          { name }\n        </span>\n      </div>\n      <div className=\"reviews__info\">\n        <div className=\"reviews__rating rating\">\n          <div className=\"reviews__stars rating__stars\">\n            <span style={{ width:`${width}%`}}>\n            </span>\n            <span className=\"visually-hidden\">Rating</span>\n          </div>\n        </div>\n        <p className=\"reviews__text\">\n          {text}\n        </p>\n        <time className=\"reviews__time\" dateTime={date}>{Utils.formatDate(date)}</time>\n      </div>\n    </li>\n  );\n}\n\nPropertyComment.propTypes = {\n  avatarImgPath: PropTypes.string,\n  date: PropTypes.string,\n  text: PropTypes.string,\n  name: PropTypes.string,\n  rating: PropTypes.number,\n};\n\nexport default PropertyComment;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PropertyComment from './property-comment';\nimport Utils from '../../utils/utils';\nimport { MAX_COMMENTS_AMOUNT } from '../../const';\n\nfunction PropertyReviewList (props) {\n  const { reviews } = props;\n  const slicedReviews = reviews.slice(0, MAX_COMMENTS_AMOUNT);\n\n  return (\n    <ul className=\"reviews__list\">\n      {slicedReviews.map((item) =>\n      {\n        const adaptedCommentForClient = Utils.adaptCommentToClient(item);\n\n        return (\n          <PropertyComment\n            key={adaptedCommentForClient.id}\n            avatarImgPath={adaptedCommentForClient.user.avatarUrl}\n            date={adaptedCommentForClient.date}\n            text={adaptedCommentForClient.comment}\n            name={adaptedCommentForClient.user.name}\n            rating={adaptedCommentForClient.rating}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n\nPropertyReviewList.propTypes = {\n  reviews: PropTypes.array,\n};\n\nexport default PropertyReviewList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction PropertyImage (props) {\n  const { imgPath } = props;\n\n  return (\n    <div className=\"property__image-wrapper\">\n      <img className=\"property__image\" src={ imgPath } alt=\"studio\" />\n    </div>\n  );\n}\n\nPropertyImage.propTypes = {\n  imgPath: PropTypes.string,\n};\n\nexport default PropertyImage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PropertyImage from './property-image';\nimport Utils from '../../utils/utils';\n\nfunction PropertyImagesList (props) {\n  const { images } = props;\n  const generatedIds = Utils.generateIdKeys(images.length);\n\n  return (\n    <div className=\"property__gallery-container container\">\n      <div className=\"property__gallery\">\n        {images.map((imagePath, index) => <PropertyImage imgPath={imagePath} key={generatedIds[index]} />)}\n      </div>\n    </div>\n  );\n}\n\nPropertyImagesList.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default PropertyImagesList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction PropertyGood (props) {\n  const { good } = props;\n\n  return (\n    <li className=\"property__inside-item\">\n      { good }\n    </li>\n  );\n}\n\nPropertyGood.propTypes = {\n  good: PropTypes.string,\n};\n\nexport default PropertyGood;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PropertyGood from './property-good';\nimport Utils from '../../utils/utils';\n\nfunction PropertyGoodsList (props) {\n  const { goods } = props;\n  const generatedIds = Utils.generateIdKeys(goods.length);\n\n  return (\n    <ul className=\"property__inside-list\">\n      {goods.map((good, index) => <PropertyGood good={good} key={generatedIds[index]} />)}\n    </ul>\n  );\n}\n\nPropertyGoodsList.propTypes = {\n  goods: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default PropertyGoodsList;\n","export const neighbourhoodPlaces = [\n  {\n    'id': 1,\n    'price': 220,\n    'bedrooms': 3,\n    'type': 'apartment',\n    'title': 'Beautiful & luxurious studio at great location',\n    'city': {\n      'name': 'Amsterdam',\n      'location': {\n        'latitude': 52.38333,\n        'longitude': 4.9,\n        'zoom': 12,\n      },\n    },\n    'description': 'A quiet cozy and picturesque that hides behind a a river by the unique lightness of Amsterdam.',\n    'goods': ['Heating', 'Kitchen', 'Cable TV', 'Washing machine', 'Coffee machine', 'Dishwasher'],\n    'host': {\n      'id': 3,\n      'avatar_url': 'img/1.png',\n      'is_pro': true,\n      'name': 'Angelina',\n    },\n    'images': ['img/room.jpg', 'img/room.jpg'],\n    'is_favorite': true,\n    'is_premium': true,\n    'location': {\n      'latitude': 52.3909553943508,\n      'longitude': 4.85309666406198,\n      'zoom': 8,\n    },\n    'max_adults': 4,\n    'preview_image': 'img/room.jpg',\n    'rating': 4.0,\n  },\n  {\n    'id': 2,\n    'price': 120,\n    'bedrooms': 3,\n    'city': {\n      'name': 'Amsterdam',\n      'location': {\n        'latitude': 52.38333,\n        'longitude': 4.9,\n        'zoom': 10,\n      },\n    },\n    'description': 'A quiet cozy and picturesque that hides behind a a river by the unique lightness of Amsterdam.',\n    'goods': ['Heating', 'Kitchen', 'Cable TV', 'Washing machine', 'Coffee machine', 'Dishwasher'],\n    'host': {\n      'avatar_url': 'img/1.png',\n      'id': 3,\n      'isPro': true,\n      'name': 'Angelina',\n    },\n    'images': ['img/apartment-02.jpg', 'img/apartment-02.jpg'],\n    'is_favorite': true,\n    'is_premium': false,\n    'location': {\n      'latitude': 52.369553943508,\n      'longitude': 4.85309666406198,\n      'zoom': 8,\n    },\n    'max_adults': 4,\n    'preview_image': 'img/apartment-02.jpg',\n    'rating': 4.8,\n    'title': 'Beautiful & luxurious studio at great location',\n    'type': 'apartment',\n  },\n  {\n    'id': 3,\n    'price': 120,\n    'bedrooms': 3,\n    'city': {\n      'location': {\n        'latitude': 52.38333,\n        'longitude': 4.9,\n        'zoom': 10,\n      },\n      'name': 'Amsterdam',\n    },\n    'description': 'A quiet cozy and picturesque that hides behind a a river by the unique lightness of Amsterdam.',\n    'goods': ['Heating', 'Kitchen', 'Cable TV', 'Washing machine', 'Coffee machine', 'Dishwasher'],\n    'host': {\n      'avatar_url': 'img/1.png',\n      'id': 3,\n      'isPro': true,\n      'name': 'Angelina',\n    },\n    'images': ['img/apartment-03.jpg', 'img/apartment-03.jpg'],\n    'is_favorite': false,\n    'is_premium': false,\n    'location': {\n      'latitude': 52.3909553943508,\n      'longitude': 4.929309666406198,\n      'zoom': 8,\n    },\n    'max_adults': 4,\n    'preview_image': 'img/apartment-03.jpg',\n    'rating': 4.8,\n    'title': 'Beautiful & luxurious studio at great location',\n    'type': 'apartment',\n  },\n];\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport CardInfo from '../card-info/card-info';\n\nfunction PropertyNearPlace(props) {\n  const {\n    id,\n    price,\n    title,\n    isPremium,\n    isFavorite,\n    type,\n    previewImage,\n  } = props;\n\n  return (\n    <article className=\"near-places__card place-card\" id={id}>\n      {isPremium &&\n        <div className=\"place-card__mark\">\n          <span>Premium</span>\n        </div>}\n      <div className=\"near-places__image-wrapper place-card__image-wrapper\">\n        <Link to={`/hotels/${id}`}>\n          <img className=\"place-card__image\" src={ previewImage } width=\"260\" height=\"200\" alt=\"Place\" />\n        </Link>\n      </div>\n      < CardInfo\n        price={price}\n        title={title}\n        isFavorite={isFavorite}\n        type={type}\n      />\n    </article>\n  );\n}\n\nPropertyNearPlace.propTypes = {\n  id: PropTypes.number.isRequired,\n  price: PropTypes.number,\n  title: PropTypes.string.isRequired,\n  isPremium: PropTypes.bool,\n  isFavorite: PropTypes.bool,\n  type: PropTypes.string,\n  previewImage: PropTypes.string,\n};\n\nexport default PropertyNearPlace;\n","import React from 'react';\n\nimport Utils from '../../utils/utils';\nimport PropertyNearPlace from './property-near-place';\n\nimport { neighbourhoodPlaces } from '../../mock/neighbourhood-places';\n\nfunction PropertyNearPlacesList() {\n  const adaptedPlacesToClient = neighbourhoodPlaces.map((place) => Utils.adaptToClient(place));\n\n  return (\n    <div className=\"near-places__list places__list\">\n      {adaptedPlacesToClient.map((place) => (\n        <PropertyNearPlace\n          key={place.id}\n          id={place.id}\n          price={place.price}\n          title={place.title}\n          isPremium={place.isPremium}\n          isFavorite={place.isFavorite}\n          type={place.type}\n          previewImage={place.previewImage}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default PropertyNearPlacesList;\n","export const comments = [\n  {\n    'comment': 'A quiet cozy and picturesque that hides behind a a river by the unique lightness of Amsterdam.',\n    'date': '2019-05-08T14:13:56.569Z',\n    'id': 1,\n    'rating': 4.2,\n    'user': {\n      'avatar_url': 'img/avatar-max.jpg',\n      'id': 4,\n      'is_pro': false,\n      'name': 'John',\n    },\n  },\n  {\n    'comment': 'A quiet cozy and pictu by the unique lightness of Amsterdam.',\n    'date': '2019-05-08T14:13:56.569Z',\n    'id': 2,\n    'rating': 2.8,\n    'user': {\n      'avatar_url': 'img/avatar-max.jpg',\n      'id': 5,\n      'is_pro': false,\n      'name': 'Smith',\n    },\n  },\n];\n","import React from 'react';\nimport { Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport {\n  Link,\n  useParams\n} from 'react-router-dom';\n\nimport CommentForm from '../comment-form/comment-form';\nimport PropertyCommentList from './property-comment-list';\nimport withLayout from '../hocs/with-layout';\nimport PropertyImagesList from './property-images-list';\nimport PropertyGoodsList from './property-goods-list';\nimport { neighbourhoodPlaces } from '../../mock/neighbourhood-places';\nimport PropertyNearPlacesList from './property-near-places-list';\n\nimport { comments } from '../../mock/comments';\nimport Utils from '../../utils/utils';\nimport Map from '../map/map';\n\nfunction Property ( props ) {\n  const { id } = useParams();\n\n  const { places } = props;\n\n  const hotelFromServer = places.find((place) => place.id === +id);\n\n  const adaptedPlaceForClient = Utils.adaptToClient(hotelFromServer);\n  const width = Utils.getWidthByRating(adaptedPlaceForClient.rating);\n\n  return (\n    <Fragment>\n      <main className=\"page__main\">\n        <section className=\"property\">\n          < PropertyImagesList images={adaptedPlaceForClient.images} />\n          <div className=\"property__container container\">\n            <div className=\"property__wrapper\">\n              {adaptedPlaceForClient.isPremium && (\n                <div className=\"property__mark\">\n                  <span>Premium</span>\n                </div>)}\n              <div className=\"property__name-wrapper\">\n                <h1 className=\"property__name\">\n                  { adaptedPlaceForClient.description }\n                </h1>\n                <button className=\"property__bookmark-button button\" type=\"button\">\n                  <svg className=\"property__bookmark-icon\" width={31} height={33}>\n                    <use xlinkHref=\"#icon-bookmark\" />\n                  </svg>\n                  <span className=\"visually-hidden\">To bookmarks</span>\n                </button>\n              </div>\n              <div className=\"property__rating rating\">\n                <div className=\"property__stars rating__stars\">\n                  <span style={{ width: `${width}%` }} />\n                  <span className=\"visually-hidden\">Rating</span>\n                </div>\n                <span className=\"property__rating-value rating__value\">{ Math.round(adaptedPlaceForClient.rating) }</span>\n              </div>\n              <ul className=\"property__features\">\n                <li className=\"property__feature property__feature--entire\">\n                  {adaptedPlaceForClient.type}\n                </li>\n                <li className=\"property__feature property__feature--bedrooms\">\n                  { adaptedPlaceForClient.bedrooms } Bedrooms\n                </li>\n                <li className=\"property__feature property__feature--adults\">\n                  Max { adaptedPlaceForClient.maxAdults } adults\n                </li>\n              </ul>\n              <div className=\"property__price\">\n                <b className=\"property__price-value\">€{ adaptedPlaceForClient.price }</b>\n                <span className=\"property__price-text\">&nbsp;night</span>\n              </div>\n              <div className=\"property__inside\">\n                <h2 className=\"property__inside-title\">What&apos;s inside</h2>\n                < PropertyGoodsList goods={ adaptedPlaceForClient.goods } />\n              </div>\n              <div className=\"property__host\">\n                <h2 className=\"property__host-title\">Meet the host</h2>\n                <div className=\"property__host-user user\">\n                  <div className={`property__avatar-wrapper ${adaptedPlaceForClient.host.isPro && 'property__avatar-wrapper--pro'} user__avatar-wrapper`}>\n                    <img\n                      className=\"property__avatar user__avatar\"\n                      src={adaptedPlaceForClient.host.avatarUrl}\n                      width={74}\n                      height={74}\n                      alt=\"Host avatar\"\n                    />\n                  </div>\n                  <span className=\"property__user-name\">\n                    { adaptedPlaceForClient.host.name}\n                  </span>\n                  {adaptedPlaceForClient.host.isPro && (\n                    <span className=\"property__user-status\">\n                      Pro\n                    </span>\n                  )}\n                </div>\n                <div className=\"property__description\">\n                  <p className=\"property__text\">\n                    { adaptedPlaceForClient.description }\n                  </p>\n                </div>\n              </div>\n              <section className=\"property__reviews reviews\">\n                <h2 className=\"reviews__title\">Reviews · <span className=\"reviews__amount\">{ comments.length }</span></h2>\n                < PropertyCommentList reviews={ comments } />\n                < CommentForm />\n              </section>\n            </div>\n          </div>\n          <section className=\"property__map map\">\n            <Map\n              activeCityName={adaptedPlaceForClient.city.name}\n              city={adaptedPlaceForClient.city}\n              points={neighbourhoodPlaces}\n              selectedPoint={adaptedPlaceForClient}\n            />\n          </section>\n        </section>\n        <div className=\"container\">\n          <section className=\"near-places places\">\n            <h2 className=\"near-places__title\">Other places in the neighbourhood</h2>\n            < PropertyNearPlacesList />\n          </section>\n        </div>\n      </main>\n      <footer className=\"footer container\">\n        <Link className=\"footer__logo-link\" to=\"/\">\n          <img className=\"footer__logo\" src=\"img/logo.svg\" alt=\"6 cities logo\" width={64} height={33} />\n        </Link>\n      </footer>\n\n    </Fragment>\n  );\n}\n\nProperty.propTypes = {\n  places: PropTypes.array,\n};\n\nconst mapStateToProps = (state) => ({\n  places: state.places,\n});\n\nconst withLayoutProperty =  withLayout(Property);\n\nexport { withLayoutProperty };\nexport default connect(mapStateToProps, null)(withLayoutProperty);\n\n","import React, { Fragment } from 'react';\n\nfunction Error() {\n  return (\n    < Fragment >\n      <h1>404</h1>\n      <h2>Page Not Found</h2>\n    </ Fragment>\n  );\n}\n\nexport default Error;\n","import React from 'react';\n\nfunction LoadingScreen() {\n  return (\n    <p>Loading...</p>\n  );\n}\n\nexport default LoadingScreen;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { AppRoute, AuthorizationStatus } from '../../const';\n\nfunction PrivateRoute(props) {\n  const { render, path, exact, authorizationStatus } = props;\n\n  return (\n    <Route\n      path={path}\n      exact={exact}\n      render={() => (\n        authorizationStatus === AuthorizationStatus.AUTH\n          ? render()\n          : <Redirect to={AppRoute.LOGIN} />\n      )}\n    />\n  );\n}\n\nPrivateRoute.propTypes = {\n  authorizationStatus: PropTypes.string.isRequired,\n  exact: PropTypes.bool.isRequired,\n  path: PropTypes.string.isRequired,\n  render: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  authorizationStatus: state.authorizationStatus,\n});\n\nexport { PrivateRoute };\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Switch, Route, Router as BrowserRouter } from 'react-router-dom';\n\nimport { AppRoute, AuthorizationStatus } from '../../const.js';\nimport Main from '../main/main';\nimport Favorites from '../favorites/favorites';\nimport Login from '../login/login';\nimport Property from '../property/property';\nimport Error from '../error/error';\nimport LoadingScreen from '../loading-screen/loading-screen.jsx';\nimport PrivateRoute from '../private-route/private-route.jsx';\nimport browserHistory from '../../browser-history';\n\nfunction App(props) {\n  const {\n    isDataLoaded,\n    places,\n    authorizationStatus,\n  } = props;\n\n  if (!isDataLoaded) {\n    return (\n      <LoadingScreen />\n    );\n  }\n\n  return (\n    <BrowserRouter history={ browserHistory }>\n      <Switch>\n        <Route exact path={AppRoute.ROOT}>\n          <Main className=\"page page--gray page--main\" />\n        </Route>\n        <Route exact path={AppRoute.LOGIN}>\n          {authorizationStatus === AuthorizationStatus.NO_AUTH\n            ? <Login />\n            : <Main className=\"page page--gray page--main\" />}\n        </Route>\n        <PrivateRoute\n          exact\n          path={AppRoute.FAVORITES}\n          render={() => <Favorites places={places} className=\"page\" />}\n        >\n        </PrivateRoute>\n        <Route exact path={AppRoute.HOTELS}>\n          <Property className=\"page\" />\n        </Route>\n        <Route>\n          <Error />\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nApp.propTypes = {\n  places: PropTypes.array.isRequired,\n  authorizationStatus: PropTypes.string.isRequired,\n  isDataLoaded: PropTypes.bool.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  places: state.places,\n  authorizationStatus: state.authorizationStatus,\n  isDataLoaded: state.isDataLoaded,\n});\n\nexport { App };\nexport default connect(mapStateToProps, null)(App);\n","import { ActionType } from './action';\nimport {\n  AuthorizationStatus,\n  SortByValues,\n  LoginValue\n} from '../const';\n\nconst initialState = {\n  activeCityName: 'Paris',\n  places: [],\n  authorizationStatus: AuthorizationStatus.UNKNOWN,\n  isDataLoaded: false,\n  sortBy: SortByValues.POPULAR,\n  loginValue: LoginValue.UNAUTHORIZED,\n};\n\nfunction reducer (state = initialState, action) {\n  switch (action.type) {\n    case ActionType.CHANGE_CITY: {\n      return {\n        ...state,\n        activeCityName: action.payload,\n      };\n    }\n    case ActionType.CHANGE_SORT_BY: {\n      return {\n        ...state,\n        sortBy: action.payload,\n      };\n    }\n    case ActionType.LOAD_PLACES:\n      return {\n        ...state,\n        places: action.payload,\n        isDataLoaded: true,\n      };\n    case ActionType.CHANGE_AUTHORIZATION_STATUS:\n      return {\n        ...state,\n        authorizationStatus: action.payload,\n      };\n    case ActionType.CHANGE_LOGIN:\n      return {\n        ...state,\n        loginValue: action.payload,\n      };\n    case ActionType.LOGOUT:\n      return {\n        ...state,\n        authorizationStatus: AuthorizationStatus.NO_AUTH,\n        loginValue: LoginValue.UNAUTHORIZED,\n      };\n    default:\n      return state;\n  }\n}\n\nexport { reducer };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport browserHistory from './browser-history';\n\nimport {\n  getAxiosInstance\n} from './services/api';\n\nimport App from './components/app/app';\nimport { Provider } from 'react-redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { reducer } from './store/reducer';\n\nimport {\n  fetchPlacesList\n} from './store/api-actions';\n\nconst api = getAxiosInstance(browserHistory);\n\nconst store = createStore(\n  reducer,\n  composeWithDevTools(\n    applyMiddleware(thunk.withExtraArgument(api)),\n  ),\n);\n\nstore.dispatch(fetchPlacesList());\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'));\n"],"sourceRoot":""}