(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{66:function(e,t,a){"use strict";a.r(t);var i,s=a(1),r=a.n(s),c=a(17),n=a.n(c),l=a(15),o=a(31),d=a(9),j=Object(d.a)(),m=a(32),u=a.n(m),p="https://7.react.pages.academy/six-cities",h=null!==(i=localStorage.getItem("token"))&&void 0!==i?i:"",_=a(6),b=a(5),g="/",v="/login",O="/favorites",x="/hotels/:id",f=["Paris","Cologne","Brussels","Amsterdam","Hamburg","Dusseldorf"],N="AUTH",y="NO_AUTH",w="UNKNOWN",k="UNAUTHORIZED",P="/hotels",S="/login",C="Popular",R="Price: low to high",z="Price: high to low",q="Top rated first",T=a(13),A=a(33),I=a(34),F=a(35),B=a.n(F),L=function(){function e(){Object(A.a)(this,e)}return Object(I.a)(e,null,[{key:"adaptToClient",value:function(e){var t=Object.assign({},e,{host:Object.assign({},e.host,{avatarUrl:e.host.avatar_url,isPro:e.host.is_pro}),isFavorite:e.is_favorite,isPremium:e.is_premium,maxAdults:e.max_adults,previewImage:e.preview_image});return delete t.host.avatar_url,delete t.host.is_pro,delete t.is_favorite,delete t.is_premium,delete t.max_adults,delete t.preview_image,t}},{key:"adaptCommentToClient",value:function(e){var t=Object.assign({},e,{comment:e.comment,date:e.date,id:e.id,rating:e.rating,user:Object.assign({},e.user,{avatarUrl:e.user.avatar_url,isPro:e.user.is_pro,id:e.user.id,name:e.user.name})});return delete t.user.avatar_url,delete t.user.is_pro,t}},{key:"adaptToServer",value:function(e){return Object.assign({},{})}},{key:"getFavoritePlacesSeparatedByCity",value:function(e){var t=new Map;return e.forEach((function(e){e.isFavorite&&(t.has(e.city.name)||t.set(e.city.name,[]),t.get(e.city.name).push(e))})),t}},{key:"getFilteredPlaces",value:function(e,t){return t.filter((function(t){return t.city.name===e}))}},{key:"generateIdKeys",value:function(e){return new Array(e).fill("").map((function(){return B()(10)}))}},{key:"getWidthByRating",value:function(e){return 100*Math.round(e)/5}}]),e}();L.isCheckedAuth=function(e){return e===w},L.formatDate=function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short"})},L.getSortedPlaces=function(e,t){var a=t.slice();switch(e){case C:return a;case R:return t.sort((function(e,t){return e.price-t.price}));case z:return function(e){return e.sort((function(e,t){return t.price-e.price}))}(t);case q:return function(e){return e.sort((function(e,t){return t.rating-e.rating}))}(t);default:return a}};var D=L,H=a(3),V=a(0);var U=function(e){var t=e.id,a=e.price,i=e.title,s=e.isFavorite,r=e.type,c=e.width;return Object(V.jsxs)("div",{className:"place-card__info",children:[Object(V.jsxs)("div",{className:"place-card__price-wrapper",children:[Object(V.jsxs)("div",{className:"place-card__price",children:[Object(V.jsxs)("b",{className:"place-card__price-value",children:["\u20ac",a]}),Object(V.jsx)("span",{className:"place-card__price-text",children:"/\xa0night"})]}),Object(V.jsxs)("button",{className:"place-card__bookmark-button button",type:"button",children:[Object(V.jsx)("svg",{className:"place-card__bookmark-icon",width:"18",height:"19",style:{stroke:s&&"#4481c3",fill:s&&"#4481c3"},children:Object(V.jsx)("use",{xlinkHref:"#icon-bookmark"})}),Object(V.jsx)("span",{className:"visually-hidden",children:"To bookmarks"})]})]}),Object(V.jsx)("div",{className:"place-card__rating rating",children:Object(V.jsxs)("div",{className:"place-card__stars rating__stars",children:[Object(V.jsx)("span",{style:{width:"".concat(c,"%")}}),Object(V.jsx)("span",{className:"visually-hidden",children:"Rating"})]})}),Object(V.jsx)("h2",{className:"place-card__name",children:Object(V.jsx)(H.a,{to:"/hotels/".concat(t),children:i})}),Object(V.jsx)("p",{className:"place-card__type",children:r})]})};var E=function(e){var t=e.id,a=e.price,i=e.onListItemHover,s=e.title,r=e.isPremium,c=e.isFavorite,n=e.type,l=e.rating,o=D.getWidthByRating(l);return Object(V.jsxs)("article",{className:"cities__place-card place-card",onMouseEnter:function(e){i(e.currentTarget)},id:t,children:[r&&Object(V.jsx)("div",{className:"place-card__mark",children:Object(V.jsx)("span",{children:"Premium"})}),Object(V.jsx)("div",{className:"cities__image-wrapper place-card__image-wrapper",children:Object(V.jsx)(H.a,{to:"/hotels/".concat(t),children:Object(V.jsx)("img",{className:"place-card__image",src:"img/apartment-01.jpg",width:"260",height:"200",alt:"Place"})})}),Object(V.jsx)(U,{id:t,price:a,title:s,isFavorite:c,type:n,width:o})]})},M=a(2),W=a.n(M);W.a.shape({id:W.a.number.isRequired,price:W.a.number.isRequired,bedrooms:W.a.number.isRequired,city:W.a.shape({location:W.a.shape({latitude:W.a.number.isRequired,longitude:W.a.number.isRequired,zoom:W.a.number.isRequired}).isRequired,name:W.a.string.isRequired}).isRequired,description:W.a.string.isRequired,goods:W.a.arrayOf(W.a.string).isRequired,host:W.a.shape({id:W.a.number.isRequired,avatarUrl:W.a.string,isPro:W.a.bool,name:W.a.string.isRequired}),images:W.a.arrayOf(W.a.string).isRequired,isFavorite:W.a.bool,isPremium:W.a.bool,location:W.a.shape({latitude:W.a.number.isRequired,longitude:W.a.number.isRequired,zoom:W.a.number.isRequired}),maxAdults:W.a.number,previewImage:W.a.string,rating:W.a.number.isRequired,title:W.a.string.isRequired,type:W.a.string.isRequired});var K=function(e){var t=e.places,a=e.onListItemHover,i=t.map((function(e){return D.adaptToClient(e)}));return Object(V.jsx)("div",{className:"cities__places-list places__list tabs__content",children:i.map((function(e){return Object(V.jsx)(E,{id:e.id,price:e.price,onListItemHover:a,title:e.title,isPremium:e.isPremium,isFavorite:e.isFavorite,type:e.type,rating:e.rating},e.id)}))})},J=a(7);var Z=function(e){return Object(V.jsx)("li",{className:"header__nav-item user",children:Object(V.jsxs)(H.a,{className:"header__nav-link header__nav-link--profile",to:v,children:[Object(V.jsx)("div",{className:"header__avatar-wrapper user__avatar-wrapper"}),Object(V.jsx)("span",{className:"header__login",children:"Sign in"})]})})},Y="changeCity",G="sortBy",Q="data/loadPlaces",X="user/changeAuthorizationStatus",$="user/changeLogin",ee="user/logout",te=function(e){return{type:Y,payload:e}},ae=function(e){return{type:G,payload:e}},ie=function(e){return{type:Q,payload:e}},se=function(e){return{type:X,payload:e}},re=function(e){return{type:$,payload:e}},ce=function(){return{type:ee}};var ne=Object(_.b)(null,(function(e){return{onSignOutClick:function(){e(ce())}}}))((function(e){var t=e.login,a=e.onSignOutClick;return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)("li",{className:"header__nav-item user",children:Object(V.jsxs)(H.a,{className:"header__nav-link header__nav-link--profile",to:O,children:[Object(V.jsx)("div",{className:"header__avatar-wrapper user__avatar-wrapper"}),Object(V.jsx)("span",{className:"header__user-name user__name",children:t})]})}),Object(V.jsx)("li",{className:"header__nav-item",children:Object(V.jsx)(H.a,{className:"header__nav-link",to:g,onClick:function(){a()},children:Object(V.jsx)("span",{className:"header__signout",children:"Sign out"})})})]})}));var le=Object(_.b)((function(e){return{login:e.loginValue,places:e.places,sortBy:e.sortBy,authorizationStatus:e.authorizationStatus}}),null)((function(e){var t=e.className,a=e.children,i=e.login,s=e.authorizationStatus;return Object(V.jsxs)("div",{className:t,children:[Object(V.jsx)("header",{className:"header",children:Object(V.jsx)("div",{className:"container",children:Object(V.jsxs)("div",{className:"header__wrapper",children:[Object(V.jsx)("div",{className:"header__left",children:Object(V.jsx)(H.a,{className:"header__logo-link header__logo-link--active",to:"/",children:Object(V.jsx)("img",{className:"header__logo",src:"img/logo.svg",alt:"6 cities logo",width:"81",height:"41"})})}),Object(V.jsx)("nav",{className:"header__nav",children:Object(V.jsx)("ul",{className:"header__nav-list",children:s===N?Object(V.jsx)(ne,{login:i}):Object(V.jsx)(Z,{})})})]})})}),a]})})),oe=function(e){return function(t){return Object(V.jsx)(le,{children:Object(V.jsx)(e,Object(J.a)({},t))})}};oe.displayName="withLayout";var de=oe,je=a(14),me=a.n(je);a(65);var ue=function(e,t){var a=Object(s.useState)(null),i=Object(T.a)(a,2),r=i[0],c=i[1];return Object(s.useEffect)((function(){if(null===r){var a=me.a.map(e.current,{center:{lat:t.location.latitude,lng:t.location.longitude},zoom:12,zoomControl:!1,marker:!0});me.a.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'}).addTo(a),c(a)}else void 0!==t.location&&r.panTo({lat:t.location.latitude,lng:t.location.longitude})}),[e,r,t]),r};var pe=function(e){var t=e.activeCityName,a=e.city,i=e.points,r=e.selectedPoint,c=Object(s.useRef)(null),n=ue(c,a),l=me.a.icon({iconUrl:"img/pin.svg",iconSize:[27,39],iconAnchor:[14,39]}),o=me.a.icon({iconUrl:"img/pin-active.svg",iconSize:[27,39],iconAnchor:[14,39]});return Object(s.useEffect)((function(){n&&i.forEach((function(e){me.a.marker({lat:e.location.latitude,lng:e.location.longitude},{icon:e.id===r.id?o:l}).addTo(n)}))}),[n,a,i,r,t,o,l]),Object(V.jsx)("div",{style:{height:"100%"},ref:c})};var he=Object(_.b)((function(e){return{activeCityName:e.activeCityName}}),(function(e){return{onTabClick:function(t){e(te(t)),e(ae(C))}}}))((function(e){var t=e.activeCityName,a=e.onTabClick;return Object(V.jsx)("div",{className:"tabs",children:Object(V.jsx)("section",{className:"locations container",children:Object(V.jsx)("ul",{className:"locations__list tabs__list",children:f.map((function(e){return Object(V.jsx)("li",{className:"locations__item",children:Object(V.jsx)(H.a,{"data-city":e,className:"locations__item-link tabs__item ".concat(e===t&&"tabs__item--active"),to:"#",onClick:function(e){e.preventDefault(),a(e.currentTarget.dataset.city)},children:Object(V.jsx)("span",{children:e})})},e)}))})})})}));var _e=Object(_.b)((function(e){return{sortByValue:e.sortBy}}),(function(e){return{onSortChange:function(t){e(ae(t))}}}))((function(e){var t=e.sortByValue,a=e.onSortChange,i=Object(s.useState)(!1),r=Object(T.a)(i,2),c=r[0],n=r[1];return Object(V.jsxs)("form",{className:"places__sorting",action:"#",method:"get",onClick:function(e){return function(e){e.preventDefault(),n((function(e){return!e}))}(e)},children:[Object(V.jsx)("span",{className:"places__sorting-caption",children:"Sort by\xa0"}),Object(V.jsxs)("span",{className:"places__sorting-type",tabIndex:"0",children:[t,Object(V.jsx)("svg",{className:"places__sorting-arrow",width:"7",height:"4",children:Object(V.jsx)("use",{xlinkHref:"#icon-arrow-select"})})]}),Object(V.jsxs)("ul",{className:"places__options places__options--custom ".concat(c&&"places__options--opened"),children:[Object(V.jsx)("li",{className:"places__option ".concat(t===C&&"places__option--active"),tabIndex:"0",onClick:function(e){e.preventDefault(),"LI"===e.target.tagName&&a(e.target.innerText)},children:C}),Object(V.jsx)("li",{className:"places__option ".concat(t===R&&"places__option--active"),tabIndex:"0",onClick:function(e){e.preventDefault(),"LI"===e.target.tagName&&a(e.target.innerText)},children:R}),Object(V.jsx)("li",{className:"places__option ".concat(t===z&&"places__option--active"),tabIndex:"0",onClick:function(e){e.preventDefault(),"LI"===e.target.tagName&&a(e.target.innerText)},children:z}),Object(V.jsx)("li",{className:"places__option ".concat(t===q&&"places__option--active"),tabIndex:"0",onClick:function(e){e.preventDefault(),"LI"===e.target.tagName&&a(e.target.innerText)},children:q})]})]})}));var be=function(e){var t=e.activeCityName;return Object(V.jsx)("div",{className:"cities",children:Object(V.jsxs)("div",{className:"cities__places-container cities__places-container--empty container",children:[Object(V.jsx)("section",{className:"cities__no-places",children:Object(V.jsxs)("div",{className:"cities__status-wrapper tabs__content",children:[Object(V.jsx)("b",{className:"cities__status",children:"No places to stay available"}),Object(V.jsxs)("p",{className:"cities__status-description",children:["We could not find any property available at the moment in ",t]})]})}),Object(V.jsx)("div",{className:"cities__right-section"})]})})};var ge=de((function(e){var t=e.places,a=e.activeCityName,i=e.sortBy,r=Object(s.useState)({}),c=Object(T.a)(r,2),n=c[0],l=c[1],o=D.getFilteredPlaces(a,t),d=D.getSortedPlaces(i,o);return Object(V.jsxs)("main",{className:"page__main page__main--index",children:[Object(V.jsx)("h1",{className:"visually-hidden",children:"Cities"}),Object(V.jsx)(he,{}),0===d.length?Object(V.jsx)(be,{activeCityName:a}):Object(V.jsx)("div",{className:"cities",children:Object(V.jsxs)("div",{className:"cities__places-container container",children:[Object(V.jsxs)("section",{className:"cities__places places",children:[Object(V.jsx)("h2",{className:"visually-hidden",children:"Places"}),Object(V.jsxs)("b",{className:"places__found",children:[d.length," places to stay in ",a]}),Object(V.jsx)(_e,{}),Object(V.jsx)(K,{places:d,onListItemHover:function(e){var t=d.find((function(t){return t.id===parseInt(e.id,10)}));l(t)}})]}),Object(V.jsx)("div",{className:"cities__right-section",children:Object(V.jsx)("section",{className:"cities__map map",children:Object(V.jsx)(pe,{activeCityName:a,city:0!==d.length&&d[0].city,points:d,selectedPoint:n})})})]})})]})})),ve=Object(_.b)((function(e){return{activeCityName:e.activeCityName,places:e.places,sortBy:e.sortBy}}),null)(ge);var Oe=function(e){var t=e.price,a=e.title,i=e.type;return Object(V.jsxs)("article",{className:"favorites__card place-card",children:[Object(V.jsx)("div",{className:"favorites__image-wrapper place-card__image-wrapper",children:Object(V.jsx)(H.a,{to:"/",children:Object(V.jsx)("img",{className:"place-card__image",src:"img/apartment-small-03.jpg",width:150,height:110,alt:"Place"})})}),Object(V.jsxs)("div",{className:"favorites__card-info place-card__info",children:[Object(V.jsxs)("div",{className:"place-card__price-wrapper",children:[Object(V.jsxs)("div",{className:"place-card__price",children:[Object(V.jsxs)("b",{className:"place-card__price-value",children:["\u20ac",t]}),Object(V.jsx)("span",{className:"place-card__price-text",children:"/\xa0night"})]}),Object(V.jsxs)("button",{className:"place-card__bookmark-button place-card__bookmark-button--active button",type:"button",children:[Object(V.jsx)("svg",{className:"place-card__bookmark-icon",width:18,height:19,children:Object(V.jsx)("use",{xlinkHref:"#icon-bookmark"})}),Object(V.jsx)("span",{className:"visually-hidden",children:"In bookmarks"})]})]}),Object(V.jsx)("div",{className:"place-card__rating rating",children:Object(V.jsxs)("div",{className:"place-card__stars rating__stars",children:[Object(V.jsx)("span",{style:{width:"100%"}}),Object(V.jsx)("span",{className:"visually-hidden",children:"Rating"})]})}),Object(V.jsx)("h2",{className:"place-card__name",children:Object(V.jsx)(H.a,{to:"/",children:a})}),Object(V.jsx)("p",{className:"place-card__type",children:i})]})]})};var xe=function(e){var t=e.city,a=e.favoritePlaces;return Object(V.jsxs)("li",{className:"favorites__locations-items",children:[Object(V.jsx)("div",{className:"favorites__locations locations locations--current",children:Object(V.jsx)("div",{className:"locations__item",children:Object(V.jsx)(H.a,{className:"locations__item-link",to:"/",children:Object(V.jsx)("span",{children:t})})})}),Object(V.jsx)("div",{className:"favorites__places",children:a.map((function(e){return Object(V.jsx)(Oe,{price:e.price,title:e.title,type:e.type},e.id)}))})]})};var fe=function(e){var t=e.places,a=D.getFavoritePlacesSeparatedByCity(t);return Object(V.jsx)("ul",{className:"favorites__list",children:function(e){var t=[];return e.forEach((function(e,a){t.push(Object(V.jsx)(xe,{city:a,favoritePlaces:e},e.city))})),t}(a)})};var Ne=de((function(e){var t=e.places;return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)("main",{className:"page__main page__main--favorites",children:Object(V.jsx)("div",{className:"page__favorites-container container",children:Object(V.jsxs)("section",{className:"favorites",children:[Object(V.jsx)("h1",{className:"favorites__title",children:"Saved listing"}),Object(V.jsx)(fe,{places:t})]})})}),Object(V.jsx)("footer",{className:"footer container",children:Object(V.jsx)(H.a,{className:"footer__logo-link",to:"/",children:Object(V.jsx)("img",{className:"footer__logo",src:"img/logo.svg",alt:"6 cities logo",width:64,height:33})})})]})}));var ye=Object(_.b)((function(e){return{authorizationStatus:e.authorizationStatus}}),(function(e){return{onSubmit:function(t){e(function(e){var t=e.login,a=e.password;return function(e,i,s){return s.post(S,{email:t,password:a}).then((function(t){localStorage.setItem("token",t.data.token),e(re(t.data.email)),e(se(N))})).catch((function(e){}))}}(t))}}}))((function(e){var t=e.onSubmit,a=e.authorizationStatus,i=Object(s.useRef)(),r=Object(s.useRef)(),c=Object(b.g)();return Object(s.useEffect)((function(){a===N&&c.push(O)}),[a,c]),Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)("div",{style:{display:"none"},children:Object(V.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",children:[Object(V.jsx)("symbol",{id:"icon-arrow-select",viewBox:"0 0 7 4",children:Object(V.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0l3.5 2.813L7 0v1.084L3.5 4 0 1.084V0z"})}),Object(V.jsx)("symbol",{id:"icon-bookmark",viewBox:"0 0 17 18",children:Object(V.jsx)("path",{d:"M3.993 2.185l.017-.092V2c0-.554.449-1 .99-1h10c.522 0 .957.41.997.923l-2.736 14.59-4.814-2.407-.39-.195-.408.153L1.31 16.44 3.993 2.185z"})}),Object(V.jsx)("symbol",{id:"icon-star",viewBox:"0 0 13 12",children:Object(V.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.5 9.644L10.517 12 9.451 7.56 13 4.573l-4.674-.386L6.5 0 4.673 4.187 0 4.573 3.549 7.56 2.483 12 6.5 9.644z"})})]})}),Object(V.jsxs)("div",{className:"page page--gray page--login",children:[Object(V.jsx)("header",{className:"header",children:Object(V.jsx)("div",{className:"container",children:Object(V.jsxs)("div",{className:"header__wrapper",children:[Object(V.jsx)("div",{className:"header__left",children:Object(V.jsx)(H.a,{className:"header__logo-link",to:"/",children:Object(V.jsx)("img",{className:"header__logo",src:"img/logo.svg",alt:"6 cities logo",width:81,height:41})})}),Object(V.jsx)("nav",{className:"header__nav",children:Object(V.jsx)("ul",{className:"header__nav-list"})})]})})}),Object(V.jsx)("main",{className:"page__main page__main--login",children:Object(V.jsxs)("div",{className:"page__login-container container",children:[Object(V.jsxs)("section",{className:"login",children:[Object(V.jsx)("h1",{className:"login__title",children:"Sign in"}),Object(V.jsxs)("form",{className:"login__form form",action:"",method:"post",onSubmit:function(e){e.preventDefault(),t({login:i.current.value,password:r.current.value})},children:[Object(V.jsxs)("div",{className:"login__input-wrapper form__input-wrapper",children:[Object(V.jsx)("label",{className:"visually-hidden",children:"E-mail"}),Object(V.jsx)("input",{ref:i,className:"login__input form__input",type:"email",name:"email",placeholder:"Email",required:!0})]}),Object(V.jsxs)("div",{className:"login__input-wrapper form__input-wrapper",children:[Object(V.jsx)("label",{className:"visually-hidden",children:"Password"}),Object(V.jsx)("input",{ref:r,className:"login__input form__input",type:"password",name:"password",placeholder:"Password",required:!0})]}),Object(V.jsx)("button",{className:"login__submit form__submit button",type:"submit",children:"Sign in"})]})]}),Object(V.jsx)("section",{className:"locations locations--login locations--current",children:Object(V.jsx)("div",{className:"locations__item",children:Object(V.jsx)(H.a,{className:"locations__item-link",to:"/",children:Object(V.jsx)("span",{children:"Amsterdam"})})})})]})})]})]})}));var we=function(){var e=Object(s.useState)(""),t=Object(T.a)(e,2),a=t[0],i=t[1];return Object(V.jsxs)("form",{className:"reviews__form form",action:"#",method:"post",onSubmit:function(){},children:[Object(V.jsx)("label",{className:"reviews__label form__label",htmlFor:"review",children:"Your review"}),Object(V.jsxs)("div",{className:"reviews__rating-form form__rating",children:[Object(V.jsx)("input",{className:"form__rating-input visually-hidden",name:"rating",defaultValue:5,id:"5-stars",type:"radio"}),Object(V.jsx)("label",{htmlFor:"5-stars",className:"reviews__rating-label form__rating-label",title:"perfect",children:Object(V.jsx)("svg",{className:"form__star-image",width:37,height:33,children:Object(V.jsx)("use",{xlinkHref:"#icon-star"})})}),Object(V.jsx)("input",{className:"form__rating-input visually-hidden",name:"rating",defaultValue:4,id:"4-stars",type:"radio"}),Object(V.jsx)("label",{htmlFor:"4-stars",className:"reviews__rating-label form__rating-label",title:"good",children:Object(V.jsx)("svg",{className:"form__star-image",width:37,height:33,children:Object(V.jsx)("use",{xlinkHref:"#icon-star"})})}),Object(V.jsx)("input",{className:"form__rating-input visually-hidden",name:"rating",defaultValue:3,id:"3-stars",type:"radio"}),Object(V.jsx)("label",{htmlFor:"3-stars",className:"reviews__rating-label form__rating-label",title:"not bad",children:Object(V.jsx)("svg",{className:"form__star-image",width:37,height:33,children:Object(V.jsx)("use",{xlinkHref:"#icon-star"})})}),Object(V.jsx)("input",{className:"form__rating-input visually-hidden",name:"rating",defaultValue:2,id:"2-stars",type:"radio"}),Object(V.jsx)("label",{htmlFor:"2-stars",className:"reviews__rating-label form__rating-label",title:"badly",children:Object(V.jsx)("svg",{className:"form__star-image",width:37,height:33,children:Object(V.jsx)("use",{xlinkHref:"#icon-star"})})}),Object(V.jsx)("input",{className:"form__rating-input visually-hidden",name:"rating",defaultValue:1,id:"1-star",type:"radio"}),Object(V.jsx)("label",{htmlFor:"1-star",className:"reviews__rating-label form__rating-label",title:"terribly",children:Object(V.jsx)("svg",{className:"form__star-image",width:37,height:33,children:Object(V.jsx)("use",{xlinkHref:"#icon-star"})})})]}),Object(V.jsx)("textarea",{className:"reviews__textarea form__textarea",onChange:function(e){return function(e){e.preventDefault(),i(e.target.value)}(e)},value:a,id:"review",name:"review",placeholder:"Tell how was your stay, what you like and what can be improved"}),Object(V.jsxs)("div",{className:"reviews__button-wrapper",children:[Object(V.jsxs)("p",{className:"reviews__help",children:["To submit review please make sure to set ",Object(V.jsx)("span",{className:"reviews__star",children:"rating"})," and describe your stay with at least ",Object(V.jsx)("b",{className:"reviews__text-amount",children:"50 characters"}),"."]}),Object(V.jsx)("button",{className:"reviews__submit form__submit button",type:"submit",disabled:!0,children:"Submit"})]})]})};var ke=function(e){var t=e.avatarImgPath,a=e.date,i=e.text,s=e.name,r=e.rating,c=D.getWidthByRating(r);return Object(V.jsxs)("li",{className:"reviews__item",children:[Object(V.jsxs)("div",{className:"reviews__user user",children:[Object(V.jsx)("div",{className:"reviews__avatar-wrapper user__avatar-wrapper",children:Object(V.jsx)("img",{className:"reviews__avatar user__avatar",src:t,width:54,height:54,alt:"Reviews avatar"})}),Object(V.jsx)("span",{className:"reviews__user-name",children:s})]}),Object(V.jsxs)("div",{className:"reviews__info",children:[Object(V.jsx)("div",{className:"reviews__rating rating",children:Object(V.jsxs)("div",{className:"reviews__stars rating__stars",children:[Object(V.jsx)("span",{style:{width:"".concat(c,"%")}}),Object(V.jsx)("span",{className:"visually-hidden",children:"Rating"})]})}),Object(V.jsx)("p",{className:"reviews__text",children:i}),Object(V.jsx)("time",{className:"reviews__time",dateTime:a,children:D.formatDate(a)})]})]})};var Pe=function(e){var t=e.reviews.slice(0,10);return Object(V.jsx)("ul",{className:"reviews__list",children:t.map((function(e){var t=D.adaptCommentToClient(e);return Object(V.jsx)(ke,{avatarImgPath:t.user.avatarUrl,date:t.date,text:t.comment,name:t.user.name,rating:t.rating},t.id)}))})};var Se=function(e){var t=e.imgPath;return Object(V.jsx)("div",{className:"property__image-wrapper",children:Object(V.jsx)("img",{className:"property__image",src:t,alt:"studio"})})};var Ce=function(e){var t=e.images,a=D.generateIdKeys(t.length);return Object(V.jsx)("div",{className:"property__gallery-container container",children:Object(V.jsx)("div",{className:"property__gallery",children:t.map((function(e,t){return Object(V.jsx)(Se,{imgPath:e},a[t])}))})})};var Re=function(e){var t=e.good;return Object(V.jsx)("li",{className:"property__inside-item",children:t})};var ze=function(e){var t=e.goods,a=D.generateIdKeys(t.length);return Object(V.jsx)("ul",{className:"property__inside-list",children:t.map((function(e,t){return Object(V.jsx)(Re,{good:e},a[t])}))})},qe=[{id:1,price:220,bedrooms:3,type:"apartment",title:"Beautiful & luxurious studio at great location",city:{name:"Amsterdam",location:{latitude:52.38333,longitude:4.9,zoom:12}},description:"A quiet cozy and picturesque that hides behind a a river by the unique lightness of Amsterdam.",goods:["Heating","Kitchen","Cable TV","Washing machine","Coffee machine","Dishwasher"],host:{id:3,avatar_url:"img/1.png",is_pro:!0,name:"Angelina"},images:["img/room.jpg","img/room.jpg"],is_favorite:!0,is_premium:!0,location:{latitude:52.3909553943508,longitude:4.85309666406198,zoom:8},max_adults:4,preview_image:"img/room.jpg",rating:4},{id:2,price:120,bedrooms:3,city:{name:"Amsterdam",location:{latitude:52.38333,longitude:4.9,zoom:10}},description:"A quiet cozy and picturesque that hides behind a a river by the unique lightness of Amsterdam.",goods:["Heating","Kitchen","Cable TV","Washing machine","Coffee machine","Dishwasher"],host:{avatar_url:"img/1.png",id:3,isPro:!0,name:"Angelina"},images:["img/apartment-02.jpg","img/apartment-02.jpg"],is_favorite:!0,is_premium:!1,location:{latitude:52.369553943508,longitude:4.85309666406198,zoom:8},max_adults:4,preview_image:"img/apartment-02.jpg",rating:4.8,title:"Beautiful & luxurious studio at great location",type:"apartment"},{id:3,price:120,bedrooms:3,city:{location:{latitude:52.38333,longitude:4.9,zoom:10},name:"Amsterdam"},description:"A quiet cozy and picturesque that hides behind a a river by the unique lightness of Amsterdam.",goods:["Heating","Kitchen","Cable TV","Washing machine","Coffee machine","Dishwasher"],host:{avatar_url:"img/1.png",id:3,isPro:!0,name:"Angelina"},images:["img/apartment-03.jpg","img/apartment-03.jpg"],is_favorite:!1,is_premium:!1,location:{latitude:52.3909553943508,longitude:4.929309666406198,zoom:8},max_adults:4,preview_image:"img/apartment-03.jpg",rating:4.8,title:"Beautiful & luxurious studio at great location",type:"apartment"}];var Te=function(e){var t=e.id,a=e.price,i=e.title,s=e.isPremium,r=e.isFavorite,c=e.type,n=e.previewImage;return Object(V.jsxs)("article",{className:"near-places__card place-card",id:t,children:[s&&Object(V.jsx)("div",{className:"place-card__mark",children:Object(V.jsx)("span",{children:"Premium"})}),Object(V.jsx)("div",{className:"near-places__image-wrapper place-card__image-wrapper",children:Object(V.jsx)(H.a,{to:"/hotels/".concat(t),children:Object(V.jsx)("img",{className:"place-card__image",src:n,width:"260",height:"200",alt:"Place"})})}),Object(V.jsx)(U,{price:a,title:i,isFavorite:r,type:c})]})};var Ae=function(){var e=qe.map((function(e){return D.adaptToClient(e)}));return Object(V.jsx)("div",{className:"near-places__list places__list",children:e.map((function(e){return Object(V.jsx)(Te,{id:e.id,price:e.price,title:e.title,isPremium:e.isPremium,isFavorite:e.isFavorite,type:e.type,previewImage:e.previewImage},e.id)}))})},Ie=[{comment:"A quiet cozy and picturesque that hides behind a a river by the unique lightness of Amsterdam.",date:"2019-05-08T14:13:56.569Z",id:1,rating:4.2,user:{avatar_url:"img/avatar-max.jpg",id:4,is_pro:!1,name:"John"}},{comment:"A quiet cozy and pictu by the unique lightness of Amsterdam.",date:"2019-05-08T14:13:56.569Z",id:2,rating:2.8,user:{avatar_url:"img/avatar-max.jpg",id:5,is_pro:!1,name:"Smith"}}];var Fe=de((function(e){var t=Object(b.h)().id,a=e.places.find((function(e){return e.id===+t})),i=D.adaptToClient(a),r=D.getWidthByRating(i.rating);return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsxs)("main",{className:"page__main",children:[Object(V.jsxs)("section",{className:"property",children:[Object(V.jsx)(Ce,{images:i.images}),Object(V.jsx)("div",{className:"property__container container",children:Object(V.jsxs)("div",{className:"property__wrapper",children:[i.isPremium&&Object(V.jsx)("div",{className:"property__mark",children:Object(V.jsx)("span",{children:"Premium"})}),Object(V.jsxs)("div",{className:"property__name-wrapper",children:[Object(V.jsx)("h1",{className:"property__name",children:i.description}),Object(V.jsxs)("button",{className:"property__bookmark-button button",type:"button",children:[Object(V.jsx)("svg",{className:"property__bookmark-icon",width:31,height:33,children:Object(V.jsx)("use",{xlinkHref:"#icon-bookmark"})}),Object(V.jsx)("span",{className:"visually-hidden",children:"To bookmarks"})]})]}),Object(V.jsxs)("div",{className:"property__rating rating",children:[Object(V.jsxs)("div",{className:"property__stars rating__stars",children:[Object(V.jsx)("span",{style:{width:"".concat(r,"%")}}),Object(V.jsx)("span",{className:"visually-hidden",children:"Rating"})]}),Object(V.jsx)("span",{className:"property__rating-value rating__value",children:Math.round(i.rating)})]}),Object(V.jsxs)("ul",{className:"property__features",children:[Object(V.jsx)("li",{className:"property__feature property__feature--entire",children:i.type}),Object(V.jsxs)("li",{className:"property__feature property__feature--bedrooms",children:[i.bedrooms," Bedrooms"]}),Object(V.jsxs)("li",{className:"property__feature property__feature--adults",children:["Max ",i.maxAdults," adults"]})]}),Object(V.jsxs)("div",{className:"property__price",children:[Object(V.jsxs)("b",{className:"property__price-value",children:["\u20ac",i.price]}),Object(V.jsx)("span",{className:"property__price-text",children:"\xa0night"})]}),Object(V.jsxs)("div",{className:"property__inside",children:[Object(V.jsx)("h2",{className:"property__inside-title",children:"What's inside"}),Object(V.jsx)(ze,{goods:i.goods})]}),Object(V.jsxs)("div",{className:"property__host",children:[Object(V.jsx)("h2",{className:"property__host-title",children:"Meet the host"}),Object(V.jsxs)("div",{className:"property__host-user user",children:[Object(V.jsx)("div",{className:"property__avatar-wrapper ".concat(i.host.isPro&&"property__avatar-wrapper--pro"," user__avatar-wrapper"),children:Object(V.jsx)("img",{className:"property__avatar user__avatar",src:i.host.avatarUrl,width:74,height:74,alt:"Host avatar"})}),Object(V.jsx)("span",{className:"property__user-name",children:i.host.name}),i.host.isPro&&Object(V.jsx)("span",{className:"property__user-status",children:"Pro"})]}),Object(V.jsx)("div",{className:"property__description",children:Object(V.jsx)("p",{className:"property__text",children:i.description})})]}),Object(V.jsxs)("section",{className:"property__reviews reviews",children:[Object(V.jsxs)("h2",{className:"reviews__title",children:["Reviews \xb7 ",Object(V.jsx)("span",{className:"reviews__amount",children:Ie.length})]}),Object(V.jsx)(Pe,{reviews:Ie}),Object(V.jsx)(we,{})]})]})}),Object(V.jsx)("section",{className:"property__map map",children:Object(V.jsx)(pe,{activeCityName:i.city.name,city:i.city,points:qe,selectedPoint:i})})]}),Object(V.jsx)("div",{className:"container",children:Object(V.jsxs)("section",{className:"near-places places",children:[Object(V.jsx)("h2",{className:"near-places__title",children:"Other places in the neighbourhood"}),Object(V.jsx)(Ae,{})]})})]}),Object(V.jsx)("footer",{className:"footer container",children:Object(V.jsx)(H.a,{className:"footer__logo-link",to:"/",children:Object(V.jsx)("img",{className:"footer__logo",src:"img/logo.svg",alt:"6 cities logo",width:64,height:33})})})]})})),Be=Object(_.b)((function(e){return{places:e.places}}),null)(Fe);var Le=function(){return Object(V.jsxs)(s.Fragment,{children:[Object(V.jsx)("h1",{children:"404"}),Object(V.jsx)("h2",{children:"Page Not Found"})]})};var De=function(){return Object(V.jsx)("p",{children:"Loading..."})};var He=Object(_.b)((function(e){return{authorizationStatus:e.authorizationStatus}}))((function(e){var t=e.render,a=e.path,i=e.exact,s=e.authorizationStatus;return Object(V.jsx)(b.b,{path:a,exact:i,render:function(){return s===N?t():Object(V.jsx)(b.a,{to:v})}})}));var Ve=Object(_.b)((function(e){return{places:e.places,authorizationStatus:e.authorizationStatus,isDataLoaded:e.isDataLoaded}}),null)((function(e){var t=e.isDataLoaded,a=e.places,i=e.authorizationStatus;return t?Object(V.jsx)(b.c,{history:j,children:Object(V.jsxs)(b.d,{children:[Object(V.jsx)(b.b,{exact:!0,path:g,children:Object(V.jsx)(ve,{className:"page page--gray page--main"})}),Object(V.jsx)(b.b,{exact:!0,path:v,children:i===y?Object(V.jsx)(ye,{}):Object(V.jsx)(ve,{className:"page page--gray page--main"})}),Object(V.jsx)(He,{exact:!0,path:O,render:function(){return Object(V.jsx)(Ne,{places:a,className:"page"})}}),Object(V.jsx)(b.b,{exact:!0,path:x,children:Object(V.jsx)(Be,{className:"page"})}),Object(V.jsx)(b.b,{children:Object(V.jsx)(Le,{})})]})}):Object(V.jsx)(De,{})})),Ue=a(36),Ee={activeCityName:"Paris",places:[],authorizationStatus:w,isDataLoaded:!1,sortBy:C,loginValue:k};var Me=function(){var e=u.a.create({baseURL:p,timeout:5e3,headers:{"x-token":h}});return e.interceptors.response.use((function(e){return new Promise((function(t,a){t(e)}))}),(function(e){return new Promise((function(t,a){a(e)}))})),e}(j),We=Object(l.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(J.a)(Object(J.a)({},e),{},{activeCityName:t.payload});case G:return Object(J.a)(Object(J.a)({},e),{},{sortBy:t.payload});case Q:return Object(J.a)(Object(J.a)({},e),{},{places:t.payload,isDataLoaded:!0});case X:return Object(J.a)(Object(J.a)({},e),{},{authorizationStatus:t.payload});case $:return Object(J.a)(Object(J.a)({},e),{},{loginValue:t.payload});case ee:return Object(J.a)(Object(J.a)({},e),{},{authorizationStatus:y,loginValue:k});default:return e}}),Object(Ue.composeWithDevTools)(Object(l.applyMiddleware)(o.a.withExtraArgument(Me))));We.dispatch((function(e,t,a){return a.get(P).then((function(t){var a=t.data;e(ie(a)),e(se(y))})).catch((function(e){}))})),n.a.render(Object(V.jsx)(r.a.StrictMode,{children:Object(V.jsx)(_.a,{store:We,children:Object(V.jsx)(Ve,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.70296e5e.chunk.js.map